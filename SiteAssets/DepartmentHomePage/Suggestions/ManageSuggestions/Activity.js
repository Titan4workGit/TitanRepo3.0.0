var a0_0x1486a9=a0_0x63ed;(function(_0x1dd043,_0x2be233){var _0x15d961=a0_0x63ed,_0x5754c6=_0x1dd043();while(!![]){try{var _0xa267fe=-parseInt(_0x15d961(0x206))/0x1+parseInt(_0x15d961(0x183))/0x2*(parseInt(_0x15d961(0x21f))/0x3)+parseInt(_0x15d961(0x19b))/0x4*(parseInt(_0x15d961(0x1d8))/0x5)+parseInt(_0x15d961(0x1be))/0x6+parseInt(_0x15d961(0x1d3))/0x7+parseInt(_0x15d961(0x17a))/0x8+-parseInt(_0x15d961(0x1e5))/0x9;if(_0xa267fe===_0x2be233)break;else _0x5754c6['push'](_0x5754c6['shift']());}catch(_0x24fa35){_0x5754c6['push'](_0x5754c6['shift']());}}}(a0_0x4e58,0xd3d13),$(document)['ready'](function(){var _0x1651d7=a0_0x63ed;BindDepartment(),SetupDropdownList(),ChangeLabels();var _0x5a71e0=_spPageContextInfo[_0x1651d7(0x1bb)]+'/Pages/Activity.aspx?Mode=Add&WebAppId='+titanForWork[_0x1651d7(0x1c0)](_0x1651d7(0x189))+'&Type=Suggestion&sourcelocation=../Pages/Myworkplace.aspx';$('#Suggestion')[_0x1651d7(0x1b7)](_0x1651d7(0x1d7),_0x5a71e0);var _0x5de1c9=_spPageContextInfo[_0x1651d7(0x1bb)]+_0x1651d7(0x1b6)+titanForWork['getQueryStringParameter'](_0x1651d7(0x189))+'&Type=Initiative&sourcelocation=../Pages/Myworkplace.aspx';$('#Initiative')[_0x1651d7(0x1b7)](_0x1651d7(0x1d7),_0x5de1c9);var _0x20b328=_spPageContextInfo[_0x1651d7(0x1bb)]+_0x1651d7(0x1b6)+titanForWork[_0x1651d7(0x1c0)](_0x1651d7(0x189))+_0x1651d7(0x196);$(_0x1651d7(0x19f))['attr'](_0x1651d7(0x1d7),_0x20b328),$(_0x1651d7(0x18a))['click'](function(){var _0x4467bd=_0x1651d7;window[_0x4467bd(0x177)][_0x4467bd(0x1aa)]($[_0x4467bd(0x182)](_0x4467bd(0x194)));});}));function Activity(){var _0x52c5ed=a0_0x63ed;$[_0x52c5ed(0x182)](_0x52c5ed(0x201))=='Update'?($(_0x52c5ed(0x211))[_0x52c5ed(0x176)](),UpdateActivity($[_0x52c5ed(0x182)](_0x52c5ed(0x1db)))):AddActivity();}$['urlParam']=function(_0x3f8dee){var _0x5cf029=a0_0x63ed,_0x171077=new RegExp(_0x5cf029(0x1f4)+_0x3f8dee+'=([^&#]*)')['exec'](window['location']['href']);if(_0x171077==null)return null;return decodeURI(_0x171077[0x1])||0x0;};function SetupDropdownList(){var _0x29299f=a0_0x63ed,_0x1672d9=$[_0x29299f(0x182)](_0x29299f(0x208));$(_0x29299f(0x205))['empty']();var _0x18d086=_0x29299f(0x1d2)+_0x1672d9+'>Activity</h4>';$(_0x29299f(0x1fd))['append'](_0x18d086);if($[_0x29299f(0x182)](_0x29299f(0x201))==_0x29299f(0x1f9)){if(_0x1672d9==_0x29299f(0x1de))$(_0x29299f(0x1e6))['show'](),BindCategory(),$(_0x29299f(0x1cd))[_0x29299f(0x197)]('disabled',!![]),$('#DDL_Department')[_0x29299f(0x192)](Logged_DepartmentId),ValidateLoginUserEntryscreenAcivities(_0x1672d9);else{if(_0x1672d9=='Suggestion')$('#DDL_Category')[_0x29299f(0x197)](_0x29299f(0x20a),!![]),$('#DDL_Category')[_0x29299f(0x1e0)]($(_0x29299f(0x1bf))[_0x29299f(0x192)](_0x29299f(0x1a8))[_0x29299f(0x1ac)](_0x29299f(0x1a8))),$('#DDL_Department')[_0x29299f(0x192)](Logged_DepartmentId),ValidateLoginUserEntryscreenAcivities(_0x1672d9);else _0x1672d9=='Initiative'&&($(_0x29299f(0x205))['prop'](_0x29299f(0x20a),!![]),$(_0x29299f(0x205))[_0x29299f(0x1e0)]($(_0x29299f(0x1bf))[_0x29299f(0x192)]('Initiative')[_0x29299f(0x1ac)](_0x29299f(0x223))),$(_0x29299f(0x1cd))[_0x29299f(0x197)](_0x29299f(0x20a),!![]),$(_0x29299f(0x1cd))[_0x29299f(0x192)](Logged_DepartmentId),ValidateLoginUserEntryscreenAcivities(_0x1672d9));}}else ValidateLoginUserEntryscreenAcivities(_0x1672d9),$[_0x29299f(0x182)](_0x29299f(0x1db))!=null&&GetActivity($[_0x29299f(0x182)](_0x29299f(0x1db)));}function BindCategory(){var _0x57057a=a0_0x63ed,_0xdb8496=_spPageContextInfo['webAbsoluteUrl']+'/_api/web/lists/getbytitle(\x27CategoryMaster\x27)/items?$filter=CategoryType\x20eq\x20\x27Activity\x27\x20and\x20Status\x20eq\x20\x27Yes\x27\x20&$orderby=\x20CatogeryName\x20asc\x20';$['ajax']({'url':_0xdb8496,'headers':{'Accept':_0x57057a(0x214)},'async':![],'success':function(_0x16bd05){var _0x5d99f5=_0x57057a;$(_0x5d99f5(0x205))[_0x5d99f5(0x1da)]();var _0x6a2a0c=_0x16bd05['d'][_0x5d99f5(0x1dc)];if(_0x6a2a0c['length']>0x0){$(_0x5d99f5(0x205))[_0x5d99f5(0x1e0)]($(_0x5d99f5(0x1bf))[_0x5d99f5(0x192)](_0x5d99f5(0x1b3))[_0x5d99f5(0x1ac)]('--\x20Select\x20--'));for(i=0x0;i<_0x6a2a0c['length'];i++){$('#DDL_Category')['append']($(_0x5d99f5(0x1bf))[_0x5d99f5(0x192)](_0x6a2a0c[i][_0x5d99f5(0x17c)])[_0x5d99f5(0x1ac)](_0x6a2a0c[i][_0x5d99f5(0x17c)]));}}},'eror':function(_0x4dbbd1){var _0x4c147a=_0x57057a;console[_0x4c147a(0x1b4)](_0x4dbbd1);}});}function BindDepartment(){var _0x4de88d=a0_0x63ed,_0x5c69ed=_spPageContextInfo[_0x4de88d(0x19a)]+'/_api/web/lists/getbytitle(\x27Departments\x27)/items?select=ID,Title&$filter=CompanyID\x20eq\x20\x27'+titanForWork[_0x4de88d(0x1c0)](_0x4de88d(0x189))+'\x27\x20&$orderby=\x20Title\x20asc&$top=5000';$[_0x4de88d(0x1ef)]({'url':_0x5c69ed,'headers':{'Accept':_0x4de88d(0x214)},'async':![],'success':function(_0x3ea2f4){var _0x1f6c7a=_0x4de88d;$('#DDL_Department')[_0x1f6c7a(0x1da)]();var _0x13ed5d=_0x3ea2f4['d'][_0x1f6c7a(0x1dc)];if(_0x13ed5d[_0x1f6c7a(0x1fa)]>0x0){$(_0x1f6c7a(0x1cd))['append']($(_0x1f6c7a(0x1bf))[_0x1f6c7a(0x192)]('Select')[_0x1f6c7a(0x1ac)](_0x1f6c7a(0x1fb)));for(i=0x0;i<_0x13ed5d[_0x1f6c7a(0x1fa)];i++){$(_0x1f6c7a(0x1cd))[_0x1f6c7a(0x1e0)]($(_0x1f6c7a(0x1bf))[_0x1f6c7a(0x192)](_0x13ed5d[i]['ID'])['text'](_0x13ed5d[i][_0x1f6c7a(0x1e7)]));}}},'eror':function(_0x2290a9){var _0x54ab0c=_0x4de88d;console[_0x54ab0c(0x1b4)](_0x2290a9);}});}function AddActivity(){var _0x1a50b5=a0_0x63ed;Validations()==!![]&&$[_0x1a50b5(0x1ef)]({'url':titanForWork[_0x1a50b5(0x1c0)](_0x1a50b5(0x1ca))+'/_api/web/lists/GetByTitle(\x27Activity\x27)/items','type':_0x1a50b5(0x190),'data':JSON[_0x1a50b5(0x18c)]({'__metadata':{'type':'SP.Data.ActivityListItem'},'CategoryType':$(_0x1a50b5(0x17d))[_0x1a50b5(0x1ac)](),'Title':$(_0x1a50b5(0x1ab))[_0x1a50b5(0x192)](),'Suggestions':$(_0x1a50b5(0x191))[_0x1a50b5(0x1e8)](),'Department':$(_0x1a50b5(0x1ed))['text'](),'DepartmentID':$(_0x1a50b5(0x1cd))[_0x1a50b5(0x192)](),'ActivityType':$['urlParam'](_0x1a50b5(0x208))}),'headers':{'Accept':'application/json;odata=verbose','Content-Type':_0x1a50b5(0x214),'X-RequestDigest':$('#__REQUESTDIGEST')[_0x1a50b5(0x192)](),'X-HTTP-Method':_0x1a50b5(0x190)},'success':function(_0x4369b2,_0x456cdf,_0x163c64){var _0xf3ad18=_0x1a50b5;FinalFiles4Upload['length']>0x0&&uploadattachment(_0x4369b2['d']['ID']);;var _0x25e702=$['urlParam']('Type');if(_0x25e702==_0xf3ad18(0x1a8))var _0x92f6bc=_0xf3ad18(0x1a5);else{if(_0x25e702==_0xf3ad18(0x1de))var _0x92f6bc=_0xf3ad18(0x1f1);else{if(_0x25e702=='Initiative')var _0x92f6bc=_0xf3ad18(0x198);}}var _0x1069a9=_0x4369b2['d']['ID'],_0x21df7a=titanForWork[_0xf3ad18(0x1c0)](_0xf3ad18(0x189)),_0x57bd66=$('#DDL_Department')[_0xf3ad18(0x192)](),_0xbba716=_0x92f6bc,_0x3a7227=$(_0xf3ad18(0x1ab))['val'](),_0x9c3725=$('#Suggestions')[_0xf3ad18(0x192)](),_0x144c37=$(_0xf3ad18(0x17d))[_0xf3ad18(0x1ac)]();titanForWork[_0xf3ad18(0x203)](_0x1069a9,_0x21df7a,_0x57bd66,_0xbba716,_0x3a7227,_0x9c3725,_0x144c37)[_0xf3ad18(0x1b2)](function(_0x2f969d){var _0x34bfcc=_0xf3ad18;console[_0x34bfcc(0x1b4)]('Response\x20from\x20titanForWork.CreateWorkflowTaskForApproval\x20:\x20'+_0x2f969d);if(_0x2f969d=='ApprovalNotRequired'){var _0x35dc73=_0x4369b2['d']['ID'];AutoApprovedActivity(_0x35dc73);var _0xb2c2d5=_0x266e2e+$(_0x34bfcc(0x226))[_0x34bfcc(0x192)]()+_0x34bfcc(0x1d1),_0x2be164='NotificationCenter',_0x266e2e=_0x266e2e,_0x192443={'__metadata':{'type':'SP.Data.'+_0x2be164+_0x34bfcc(0x18e)},'Title':$('#Title')['val'](),'Details':_0xb2c2d5,'WebpartName':_0x266e2e,'CompanyIdId':titanForWork[_0x34bfcc(0x1c0)]('CompanyId'),'DepartmentId':_0x57bd66};Universalinsert(_0x2be164,_0x192443);}}),alert(_0xf3ad18(0x1a6)),window[_0xf3ad18(0x177)][_0xf3ad18(0x1aa)]($[_0xf3ad18(0x182)](_0xf3ad18(0x194)));},'error':function(_0x271287,_0x33589a,_0x38ff10){alert('Failed');}});}function Universalinsert(_0x56d5c9,_0x23033d){var _0x21596f=a0_0x63ed;$['ajax']({'url':_spPageContextInfo[_0x21596f(0x19a)]+_0x21596f(0x224)+_0x56d5c9+_0x21596f(0x213),'type':'POST','contentType':'application/json;odata=verbose','data':JSON[_0x21596f(0x18c)](_0x23033d),'async':![],'headers':{'Accept':_0x21596f(0x214),'X-RequestDigest':$(_0x21596f(0x20b))[_0x21596f(0x192)]()},'success':function(_0xfa957e){var _0x15318a=_0x21596f;console['log'](_0x15318a(0x1a4));},'error':function(_0x429497){var _0x2f6233=_0x21596f;console[_0x2f6233(0x1b4)]('data');}});}function AutoApprovedActivity(_0x2c437f){var _0x4b6c3f=a0_0x63ed,_0x3e1579='Activity',_0x32fe4e=titanForWork['getQueryStringParameter'](_0x4b6c3f(0x1ca))+_0x4b6c3f(0x187)+_0x3e1579+'\x27)/Items('+_0x2c437f+')';$[_0x4b6c3f(0x1ef)]({'url':_0x32fe4e,'type':'POST','async':![],'data':JSON[_0x4b6c3f(0x18c)]({'__metadata':{'type':_0x4b6c3f(0x1fe)},'ApprovalStatus':'Approved','ApprovarName':_spPageContextInfo[_0x4b6c3f(0x1d9)]}),'headers':{'accept':_0x4b6c3f(0x214),'X-RequestDigest':$('#__REQUESTDIGEST')[_0x4b6c3f(0x192)](),'content-Type':_0x4b6c3f(0x214),'X-Http-Method':_0x4b6c3f(0x1a2),'If-Match':'*'},'success':function(_0x56bc60,_0x1ef4fa,_0x28b631){var _0x296379=_0x4b6c3f;console[_0x296379(0x1b4)]('Auto\x20Approved\x20Success!');},'error':function(_0x242dfb){var _0x27c296=_0x4b6c3f;console[_0x27c296(0x1b4)](_0x242dfb);}});}function a0_0x63ed(_0x49031,_0x2d36be){var _0x4e582e=a0_0x4e58();return a0_0x63ed=function(_0x63ed59,_0x2738b2){_0x63ed59=_0x63ed59-0x176;var _0x12527b=_0x4e582e[_0x63ed59];return _0x12527b;},a0_0x63ed(_0x49031,_0x2d36be);}function Validations(){var _0x2a7971=a0_0x63ed;if($(_0x2a7971(0x17d))[_0x2a7971(0x1ac)]()==''||$(_0x2a7971(0x17d))[_0x2a7971(0x1ac)]()==_0x2a7971(0x1fb))return alert(_0x2a7971(0x1ea)),$(_0x2a7971(0x17d))[_0x2a7971(0x1c6)](),![];else{if($(_0x2a7971(0x1ab))[_0x2a7971(0x192)]()=='')return alert('Please\x20enter\x20title.'),$(_0x2a7971(0x1ab))[_0x2a7971(0x1c6)](),![];else{if($('.richText-editor')['text']()=='')return alert(_0x2a7971(0x215)),![];else{if($(_0x2a7971(0x1ed))[_0x2a7971(0x1ac)]()==''||$('#DDL_Department\x20option:selected')[_0x2a7971(0x1ac)]()=='--\x20Select\x20--')return alert(_0x2a7971(0x1b8)),$(_0x2a7971(0x1ed))[_0x2a7971(0x1c6)](),![];}}}return!![];};var dropZoneId=a0_0x1486a9(0x1c7),dropZone=$('#'+dropZoneId),inputFile=dropZone[a0_0x1486a9(0x179)](a0_0x1486a9(0x1e2)),finalFiles=[],FinalFiles4Upload=[],Tcounter=0x0,RemoveDuplicate=[];$(function(){var _0x554ce4=a0_0x1486a9;$('#FileUpload')['on'](_0x554ce4(0x1ee),function(_0x1ded54){var _0x76015b=_0x554ce4;FinalFiles4Upload=[];var _0x51341f=this[_0x76015b(0x1c3)][_0x76015b(0x1fa)],_0x330bd5=0x0;$[_0x76015b(0x17f)](this['files'],function(_0x5ca536,_0x5e1945){var _0x35b33d=_0x76015b,_0x564042=_0x5e1945['name'][_0x35b33d(0x1bc)]('.');_0x564042=_0x564042[_0x564042['length']-0x1];var _0x16e8b4=returnExtension(_0x564042);if(_0x16e8b4==!![])return alert(_0x564042+'\x20file\x20type\x20are\x20not\x20allow!\x20'),$('#FileUpload')[_0x35b33d(0x192)](''),![];finalFiles[finalFiles[_0x35b33d(0x1fa)]]=_0x5e1945;}),RemoveDuplicate=[];var _0x142125=finalFiles[_0x76015b(0x1f0)](function(_0x17bdae){var _0x3d0787=_0x76015b;if(RemoveDuplicate[_0x3d0787(0x21d)](_0x17bdae[_0x3d0787(0x180)])==-0x1)return RemoveDuplicate[_0x3d0787(0x1f8)](_0x17bdae[_0x3d0787(0x180)]),!![];return![];});console['log'](_0x142125),FinalFiles4Upload=ReinitializeArray(_0x142125),$(_0x76015b(0x1ae))[_0x76015b(0x1da)]();for(_0x330bd5;_0x330bd5<FinalFiles4Upload[_0x76015b(0x1fa)];_0x330bd5++){$(_0x76015b(0x1ae))[_0x76015b(0x1e0)]('<div\x20id=\x22file_'+Tcounter+_0x76015b(0x1ce)+Tcounter+_0x76015b(0x181)+RemoveDuplicate[_0x330bd5]+_0x76015b(0x1c9)+Tcounter+_0x76015b(0x1b0)),Tcounter=Tcounter+0x1;}});});function removeLine(_0x821435){var _0x496f0a=a0_0x1486a9,_0x1c03a8=_0x821435[_0x496f0a(0x1bc)]('_')[0x1];$('#'+_0x821435)['remove'](),delete finalFiles[parseInt(_0x1c03a8)],RemoveDuplicate=[];var _0x20cc04=finalFiles[_0x496f0a(0x1f0)](function(_0x4df6b1){var _0x4418e2=_0x496f0a;if(RemoveDuplicate[_0x4418e2(0x21d)](_0x4df6b1[_0x4418e2(0x180)])==-0x1)return RemoveDuplicate[_0x4418e2(0x1f8)](_0x4df6b1[_0x4418e2(0x180)]),!![];return![];});FinalFiles4Upload=ReinitializeArray(_0x20cc04);}function ReinitializeArray(_0x1e7687){var _0x26a0f2=[],_0x22eab2=0x0;for(var _0x4e2cc2=0x0;_0x4e2cc2<_0x1e7687['length'];_0x4e2cc2++){_0x26a0f2[_0x22eab2++]=_0x1e7687[_0x4e2cc2];}return _0x26a0f2;}var getFileBuffer=function(_0x5d4e05){var _0x235f6c=a0_0x1486a9,_0x2d7685=$[_0x235f6c(0x1a0)](),_0x4b6ff7=new FileReader();return _0x4b6ff7['onload']=function(_0x1b7494){var _0x1deafe=_0x235f6c;_0x2d7685[_0x1deafe(0x1d0)](_0x1b7494['target'][_0x1deafe(0x1a1)]);},_0x4b6ff7[_0x235f6c(0x195)]=function(_0x3dcf17){var _0x561dea=_0x235f6c;_0x2d7685[_0x561dea(0x18d)](_0x3dcf17[_0x561dea(0x212)]['error']);},_0x4b6ff7[_0x235f6c(0x19d)](_0x5d4e05),_0x2d7685['promise']();},xRequestDigest=$('#__REQUESTDIGEST')[a0_0x1486a9(0x192)]();function uploadattachment(_0x26ff92){var _0x5ec47e=a0_0x1486a9;FinalFiles4Upload[_0x5ec47e(0x1fa)]>0x0&&$[_0x5ec47e(0x17f)](FinalFiles4Upload,function(_0x5f3ee8,_0x56f471){var _0x310393=_0x5ec47e;getFileBuffer(_0x56f471)[_0x310393(0x21a)](function(_0x1bfcb2){var _0x473587=_0x310393,_0x313b48=_0x56f471[_0x473587(0x180)],_0xc0728a=_0x313b48[_0x473587(0x1aa)](/[^.a-zA-Z0-9]/ig,'');$[_0x473587(0x1ef)]({'url':titanForWork[_0x473587(0x1c0)](_0x473587(0x1ca))+'/_api/web/lists/getbytitle(\x27Activity\x27)/items('+_0x26ff92+_0x473587(0x1df)+_0xc0728a+'\x27)','method':'POST','data':_0x1bfcb2,'async':![],'processData':![],'headers':{'Accept':_0x473587(0x214),'content-type':_0x473587(0x214),'X-RequestDigest':xRequestDigest},'success':function(_0x1dd07e){var _0xcc2708=_0x473587;console['log'](_0xcc2708(0x20d));},'error':function(_0x5b1376){var _0x43103d=_0x473587;console[_0x43103d(0x1b4)](_0x5b1376[_0x43103d(0x1f7)][_0x43103d(0x18f)]);}});});});}var Attachment_ItemId='';function GetActivity(_0x495746){var _0x92bb83=a0_0x1486a9;Attachment_ItemId=_0x495746;var _0x2d54ec=titanForWork[_0x92bb83(0x1c0)](_0x92bb83(0x1ca))+_0x92bb83(0x217)+_0x495746+_0x92bb83(0x1b5);$['ajax']({'url':_0x2d54ec,'headers':{'Accept':_0x92bb83(0x214)},'async':![],'success':function(_0x337b9a){var _0x4d153a=_0x92bb83;$('#oldfilename')['empty']();var _0x1ec5f5=_0x337b9a['d']['results'];if(_0x1ec5f5['length']>0x0){$(_0x4d153a(0x1ab))[_0x4d153a(0x192)](_0x1ec5f5[0x0][_0x4d153a(0x1e7)]),$(_0x4d153a(0x226))[_0x4d153a(0x1e8)](_0x1ec5f5[0x0]['Suggestions']);if(_0x1ec5f5[0x0][_0x4d153a(0x1c2)]=='Activity'||_0x1ec5f5[0x0][_0x4d153a(0x1c2)]=='Activities')BindCategory(),$(_0x4d153a(0x1cd))[_0x4d153a(0x197)](_0x4d153a(0x20a),!![]),$('#DDL_Category')[_0x4d153a(0x192)](_0x1ec5f5[0x0][_0x4d153a(0x221)]);else{if(_0x1ec5f5[0x0][_0x4d153a(0x1c2)]=='Suggestion')$(_0x4d153a(0x205))[_0x4d153a(0x1e0)]($(_0x4d153a(0x1bf))[_0x4d153a(0x192)](_0x4d153a(0x1a8))[_0x4d153a(0x1ac)](_0x4d153a(0x1a8))),$(_0x4d153a(0x205))[_0x4d153a(0x197)]('disabled',!![]);else _0x1ec5f5[0x0][_0x4d153a(0x1c2)]==_0x4d153a(0x223)&&($(_0x4d153a(0x205))[_0x4d153a(0x1e0)]($(_0x4d153a(0x1bf))[_0x4d153a(0x192)](_0x4d153a(0x223))['text'](_0x4d153a(0x223))),$(_0x4d153a(0x1cd))[_0x4d153a(0x197)]('disabled',!![]),$('#DDL_Category')['prop'](_0x4d153a(0x20a),!![]));}var _0x1ab4b5=_0x1ec5f5[0x0][_0x4d153a(0x20f)];$(_0x4d153a(0x21e)+_0x1ab4b5+')')[_0x4d153a(0x1b7)](_0x4d153a(0x222),_0x4d153a(0x222));var _0x442de9=_0x1ec5f5[0x0][_0x4d153a(0x1cb)][_0x4d153a(0x1dc)][_0x4d153a(0x1fa)];if(_0x442de9>0x0){var _0x4148fa='<tr>';for(var _0x47a7d6=0x0;_0x47a7d6<_0x442de9;_0x47a7d6++){_0x4148fa+=_0x4d153a(0x186)+_0x1ec5f5[0x0]['AttachmentFiles'][_0x4d153a(0x1dc)][_0x47a7d6]['ServerRelativeUrl']+_0x4d153a(0x1ad)+_0x1ec5f5[0x0][_0x4d153a(0x1cb)][_0x4d153a(0x1dc)][_0x47a7d6][_0x4d153a(0x1b9)]+'</a>&nbsp;&nbsp;<i\x20class=\x27fa\x20fa-trash-o\x20DeletePic\x27\x20style=\x27color:red\x27\x20onclick=\x22DeleteItemAttachment('+_0x495746+',\x27'+_0x1ec5f5[0x0]['AttachmentFiles'][_0x4d153a(0x1dc)][_0x47a7d6]['FileName']+_0x4d153a(0x200),_0x4148fa+=_0x4d153a(0x1af);}$(_0x4d153a(0x199))[_0x4d153a(0x1e0)](_0x4148fa),$[_0x4d153a(0x182)](_0x4d153a(0x201))==_0x4d153a(0x207)&&($(_0x4d153a(0x19c))[_0x4d153a(0x21c)](),$(_0x4d153a(0x18a))[_0x4d153a(0x21c)]());}}},'error':function(_0xd3c025){var _0x29f3bf=_0x92bb83;alert(_0x29f3bf(0x210));}});}function UpdateActivity(_0xaa3faa){var _0x5eb91a=a0_0x1486a9;Validations()==!![]&&$[_0x5eb91a(0x1ef)]({'url':titanForWork[_0x5eb91a(0x1c0)](_0x5eb91a(0x1ca))+'/_api/web/lists/GetByTitle(\x27Activity\x27)/items(\x27'+_0xaa3faa+'\x27)','type':_0x5eb91a(0x190),'data':JSON[_0x5eb91a(0x18c)]({'__metadata':{'type':_0x5eb91a(0x1fe)},'CategoryType':$(_0x5eb91a(0x17d))[_0x5eb91a(0x1ac)](),'Title':$('#Title')[_0x5eb91a(0x192)](),'Suggestions':$(_0x5eb91a(0x191))[_0x5eb91a(0x1e8)](),'Department':$(_0x5eb91a(0x1ed))[_0x5eb91a(0x1ac)](),'DepartmentID':$(_0x5eb91a(0x1cd))['val'](),'ActivityType':$(_0x5eb91a(0x17d))['text']()}),'headers':{'Accept':'application/json;odata=verbose','Content-Type':_0x5eb91a(0x214),'X-RequestDigest':$(_0x5eb91a(0x20b))[_0x5eb91a(0x192)](),'IF-MATCH':'*','X-HTTP-Method':_0x5eb91a(0x1d6)},'success':function(_0x181780,_0x18b97e,_0x17a1f2){var _0x142691=_0x5eb91a;FinalFiles4Upload[_0x142691(0x1fa)]>0x0&&uploadattachment(_0xaa3faa);var _0x58717c=$[_0x142691(0x182)](_0x142691(0x208));if(_0x58717c==_0x142691(0x1a8))var _0x3a38d8='Suggesion';else{if(_0x58717c==_0x142691(0x1de))var _0x3a38d8=_0x142691(0x1f1);else{if(_0x58717c==_0x142691(0x223))var _0x3a38d8='New\x20Initiative';}}var _0x138292=_0xaa3faa,_0x29db78=titanForWork['getQueryStringParameter'](_0x142691(0x189)),_0x193ce7=$('#DDL_Department')[_0x142691(0x192)](),_0x5a4704=_0x3a38d8,_0x5e0b0e=$(_0x142691(0x1ab))[_0x142691(0x192)](),_0x1b87ab=$(_0x142691(0x226))[_0x142691(0x192)](),_0x1f86ec=$(_0x142691(0x17d))[_0x142691(0x1ac)]();titanForWork[_0x142691(0x20c)](_0x138292,titanForWork[_0x142691(0x1c0)]('CompanyId'),_0x5a4704)['done'](function(_0x4b94de){var _0x2d8c05=_0x142691;titanForWork[_0x2d8c05(0x1cf)](_0x4b94de);}),titanForWork[_0x142691(0x203)](_0x138292,_0x29db78,_0x193ce7,_0x5a4704,_0x5e0b0e,_0x1b87ab,_0x1f86ec)[_0x142691(0x1b2)](function(_0x1fa4a4){var _0x51e63=_0x142691;console['log']('Response\x20from\x20titanForWork.CreateWorkflowTaskForApproval\x20:\x20'+_0x1fa4a4);if(_0x1fa4a4==_0x51e63(0x1e4)){var _0x497508=_0xaa3faa;AutoApprovedActivity(_0x497508);var _0xe27a99=_0x1a38c6+$('#Suggestions')[_0x51e63(0x192)]()+_0x51e63(0x1cc),_0x504382='NotificationCenter',_0x1a38c6=_0x1a38c6,_0x11c4ea={'__metadata':{'type':_0x51e63(0x216)+_0x504382+_0x51e63(0x18e)},'Title':$(_0x51e63(0x1ab))[_0x51e63(0x192)](),'Details':_0xe27a99,'WebpartName':_0x1a38c6,'CompanyIdId':titanForWork['getQueryStringParameter'](_0x51e63(0x189))};Universalinsert(_0x504382,_0x11c4ea);}}),alert(_0x142691(0x1e3)),window[_0x142691(0x177)][_0x142691(0x1aa)]($['urlParam'](_0x142691(0x194)));},'error':function(_0x1250de,_0x517f35,_0x41b60d){var _0x651c2=_0x5eb91a;$('#ResultDiv')['empty']()[_0x651c2(0x1ac)](data['responseJSON'][_0x651c2(0x18f)]);}});}function DeleteItemAttachment(_0x146c7a,_0x23f5ea){var _0x3b714b=a0_0x1486a9,_0x4042f1=titanForWork[_0x3b714b(0x1c0)](_0x3b714b(0x1ca))+_0x3b714b(0x193)+_0x146c7a+_0x3b714b(0x184)+_0x23f5ea+'\x27)\x20\x20';$[_0x3b714b(0x1ef)]({'url':_0x4042f1,'type':_0x3b714b(0x219),'contentType':'application/json;odata=verbose','headers':{'X-RequestDigest':$(_0x3b714b(0x20b))[_0x3b714b(0x192)](),'X-HTTP-Method':_0x3b714b(0x219),'Accept':'application/json;odata=verbose'},'success':function(_0x19b549){alert('Selected\x20Document\x20Deleted.'),GetActivity(Attachment_ItemId);},'error':function(_0x2a6353){}});}function ValidateLoginUserEntryscreenAcivities(_0x4e4597){var _0x184861=a0_0x1486a9,_0x3115cd=$[_0x184861(0x182)]('Mode'),_0x142865='';if(_0x4e4597==_0x184861(0x223))_0x142865=_0x184861(0x198);else{if(_0x4e4597==_0x184861(0x1a8))_0x142865=_0x184861(0x1a5);else{if(_0x4e4597==_0x184861(0x1de))_0x142865=_0x184861(0x1f1);else _0x4e4597=='Activity'&&(_0x142865=_0x184861(0x1f1));}}if(_0x3115cd!=_0x184861(0x207)){var _0x8f5644=_spPageContextInfo['webAbsoluteUrl']+'/_api/web/lists/getbytitle(\x27ProcessApprovers\x27)/items?$filter=WebPartName\x20eq\x20\x27'+_0x142865+'\x27\x20and\x20Company\x20eq\x20\x27'+titanForWork[_0x184861(0x1c0)](_0x184861(0x189))+'\x27\x20and\x20Department\x20eq\x20\x27'+Logged_DepartmentId+'\x27';$[_0x184861(0x1ef)]({'url':_0x8f5644,'headers':{'Accept':_0x184861(0x214)},'async':![],'success':function(_0x5bfa1b){var _0x3eba76=_0x184861,_0x2c395d=_0x5bfa1b['d']['results'];if(_0x2c395d['length']>0x0){if(_0x2c395d[0x0][_0x3eba76(0x1bd)]==_0x3eba76(0x1f2)||_0x2c395d[0x0][_0x3eba76(0x1bd)]=='SELECTIVE'||_0x2c395d[0x0][_0x3eba76(0x1bd)]==null){if(_0x2c395d[0x0][_0x3eba76(0x1a7)]!=null){var _0x4cd508=_0x2c395d[0x0]['ContributorsId']['results'];function _0x4a86c8(_0x437de5){var _0x286bf8=_0x3eba76;return _0x437de5==_spPageContextInfo[_0x286bf8(0x1c8)];}var _0x155f51=_0x4cd508[_0x3eba76(0x1f0)](_0x4a86c8);if(_0x155f51[_0x3eba76(0x1fa)]>0x0){if(_0x3115cd==_0x3eba76(0x1f9)||_0x3115cd=='Update'){if(_0x4e4597==_0x3eba76(0x1fc))alert(_0x3eba76(0x1d5)),window[_0x3eba76(0x177)][_0x3eba76(0x1d7)]=_0x3eba76(0x202)+titanForWork['getQueryStringParameter'](_0x3eba76(0x189))+'';else{if(_0x4e4597==_0x3eba76(0x223)||_0x4e4597=='Suggestion'||_0x4e4597==_0x3eba76(0x1de)||_0x4e4597==_0x3eba76(0x1f1)){}else alert(_0x3eba76(0x1d5)),window[_0x3eba76(0x177)][_0x3eba76(0x1d7)]=_0x3eba76(0x202)+titanForWork[_0x3eba76(0x1c0)](_0x3eba76(0x189))+'';}}else{if(_0x3115cd==_0x3eba76(0x207))$(_0x3eba76(0x185))[_0x3eba76(0x1a3)](),$(_0x3eba76(0x1a9))[_0x3eba76(0x1b7)]('disabled',_0x3eba76(0x20a));else _0x3115cd==_0x3eba76(0x1fc)?(alert(_0x3eba76(0x1d5)),window[_0x3eba76(0x177)][_0x3eba76(0x1d7)]=_0x3eba76(0x202)+titanForWork[_0x3eba76(0x1c0)](_0x3eba76(0x189))+''):(alert('Unauthorized\x20access!'),window[_0x3eba76(0x177)][_0x3eba76(0x1d7)]=_0x3eba76(0x202)+titanForWork[_0x3eba76(0x1c0)](_0x3eba76(0x189))+'');}}else alert(_0x3eba76(0x1d5)),window[_0x3eba76(0x177)]['href']=_0x3eba76(0x202)+titanForWork[_0x3eba76(0x1c0)]('CompanyId')+'';}else alert(_0x3eba76(0x1d5)),window[_0x3eba76(0x177)][_0x3eba76(0x1d7)]=_0x3eba76(0x202)+titanForWork[_0x3eba76(0x1c0)](_0x3eba76(0x189))+'';}else{if(_0x2c395d[0x0][_0x3eba76(0x1bd)]==_0x3eba76(0x1c5)||_0x2c395d[0x0][_0x3eba76(0x1bd)]==_0x3eba76(0x1c4)){}else alert(_0x3eba76(0x1d5)),window['location'][_0x3eba76(0x1d7)]=_0x3eba76(0x202)+titanForWork['getQueryStringParameter'](_0x3eba76(0x189))+'';}}else alert(_0x3eba76(0x1d5)),window['location'][_0x3eba76(0x1d7)]=_0x3eba76(0x202)+titanForWork[_0x3eba76(0x1c0)]('CompanyId')+'';},'error':function(_0x18858e){var _0x37f2f7=_0x184861;console[_0x37f2f7(0x1b4)](_0x18858e);}});}else $(_0x184861(0x185))[_0x184861(0x1a3)](),$(_0x184861(0x1a9))['attr'](_0x184861(0x20a),'disabled');window['location'][_0x184861(0x1d7)][_0x184861(0x21b)](_0x184861(0x17e))==!![]&&$(_0x184861(0x18a))[_0x184861(0x21c)]();}function a0_0x4e58(){var _0x4a1712=['[data-localize]','HTMLElement','#DDL_Department\x20option:selected','change','ajax','filter','Activity','Selective','safari','[?&]','Key','lableText_Converted','responseText','push','Add','length','--\x20Select\x20--','null','#ActivityHeading','SP.Data.ActivityListItem','pushNotification','\x27)\x22></i></th>','Mode','../Pages/Myworkplace.aspx?WebAppId=','CreateWorkflowTaskForApproval','value','#DDL_Category','1730821UieRBd','View','Type','Deleted','disabled','#__REQUESTDIGEST','GetItemIDOfApprovalTaskList','Doc\x20Uploaded.','button','Department','An\x20error\x20occurred.\x20Please\x20try\x20again.','#deletebtn','target','\x27)/items','application/json;odata=verbose','Please\x20enter\x20suggestion.','SP.Data.','/_api/web/lists/getbytitle(\x27Activity\x27)/items?$filter=ID\x20eq\x20(\x27','?$select=Title,Key,DefaultLanguage&$top=5000&$filter=Title\x20eq\x20\x27Workplace\x27\x20','DELETE','then','includes','remove','indexOf','#DDL_Department\x20option:contains(','9uDxGcm','test','CategoryType','selected','Initiative','/_api/web/lists/GetByTitle(\x27','when','#Suggestions','show','location','Multilingual\x20:\x20','find','712968CxRJOz','Recommended\x20to\x20clear\x20the\x20browsing\x20data\x20and\x20cookies\x20for\x20smooth\x20and\x20fast\x20browsing.\x20Please\x20press\x20Ctrl\x20+\x20H\x20to\x20clear\x20cookies.','CatogeryName','#DDL_Category\x20option:selected','?MODAL','each','name','</strong></span>\x20','urlParam','592782OENUeE',')/AttachmentFiles/getByFileName(\x27','#Submitbtn','<th\x20scope=\x22row\x22><div\x20class=\x27Attachments-List\x27><i\x20class=\x27fa\x20fa-paperclip\x27\x20style=\x27color:red\x27></i><a\x20target=\x27_blank\x27\x20href=\x27','/_api/Web/Lists/getByTitle(\x27','toString','CompanyId','#Close','[object\x20SafariRemoteNotification]','stringify','reject','ListItem','error','POST','.richText-editor','val','/_api/web/lists/GetByTitle(\x27Activity\x27)/GetItemById(','sourcelocation','onerror','&Type=Activities&sourcelocation=../Pages/Myworkplace.aspx','prop','New\x20Initiative','#oldfilename','webAbsoluteUrl','28736eMfwpX','.DeletePic','readAsArrayBuffer','LabelsSettings','#Acivities','Deferred','result','PATCH','hide','add\x20success','Suggesion','Data\x20has\x20been\x20saved.','ContributorsId','Suggestion','.ViewMode','replace','#Title','text','\x27>\x20','#filename','</tr>','\x22\x22\x20title=\x22remove\x22></span></div>','labelText_Actual','done','Select','log','\x27)&$expand=AttachmentFiles','/Pages/Activity.aspx?Mode=Add&WebAppId=','attr','Please\x20select\x20Department.','FileName','hasClass','webServerRelativeUrl','split','Scope','5882328sVpglN','<option\x20\x20\x20\x20\x20/>','getQueryStringParameter','undefined','ActivityType','files','EVERYONE','Everyone','focus','drop-zone','userId','&nbsp;&nbsp;<span\x20class=\x22fa\x20fa-close\x20fa-lg\x20closeBtn\x22\x20style=\x22color:red;\x22\x20\x20onclick=\x22removeLine(this.id);\x22\x20id=\x22file_','CompanySiteUrl','AttachmentFiles','\x20has\x20been\x20modified.','#DDL_Department','\x22\x20class=\x22Attachments-List\x22><span\x20class=\x22fa-stack\x20fa-lg\x22\x20style=\x22line-height:\x201em;\x20height:\x201em;\x22><i\x20class=\x22fa\x20fa-paperclip\x22\x20style=\x22font-size:\x2020px;\x20font-weight:\x20500;\x22></i></i><strong\x20class=\x22fa-stack-1x\x22\x20style=\x22color:#FFF;\x20font-size:12px;\x20margin-top:2px;\x22>','DeleteTaskItem','resolve','\x20has\x20been\x20posted.','<h4\x20class=\x22h4-color\x22\x20id=\x22txtActivity\x22\x20data-localize=','10487722WnrbMw','Are\x20you\x20sure\x20to\x20delete\x20this\x20item?','Unauthorized\x20access!','MERGE','href','465bvEgHb','userDisplayName','empty','ItemId','results','DefaultLanguage','Activities',')/AttachmentFiles/add(\x20FileName=\x27','append','data-localize','input','Data\x20has\x20been\x20Saved.','ApprovalNotRequired','13739544RerVoH','#CategoryDiv','Title','html','getItemsWithQueryItem','Select\x20Category.'];a0_0x4e58=function(){return _0x4a1712;};return a0_0x4e58();}var LabelDefaultLangauge=[],labels=[];function ChangeLabels(){var _0x2f3c0b=a0_0x1486a9,_0x158506=_0x2f3c0b(0x1dd);if(LabelDefaultLangauge[_0x2f3c0b(0x1fa)]==0x0){var _0x2a8df8=_0x2f3c0b(0x218);$[_0x2f3c0b(0x225)](CommonFunction[_0x2f3c0b(0x1e9)](_0x2f3c0b(0x19e),_0x2a8df8))[_0x2f3c0b(0x1b2)](function(_0x133e8b){var _0x45301a=_0x2f3c0b;try{LabelDefaultLangauge=_0x133e8b['results'],SetDMSText(_0x133e8b['results'],_0x158506);}catch(_0x5a384e){alert(_0x45301a(0x17b));}});}else SetDMSText(LabelDefaultLangauge,_0x158506);}function SetDMSText(_0x359117,_0x369ba6){var _0x127160=a0_0x1486a9;labels=[],$[_0x127160(0x17f)](_0x359117,function(_0x4f384c,_0x1c20a3){var _0x4ef173=_0x127160,_0x5b5b27=_0x1c20a3[_0x4ef173(0x1f5)],_0x55abcd=_0x1c20a3[_0x369ba6];if(_0x55abcd==null||_0x55abcd==''||_0x55abcd==undefined)_0x55abcd=_0x1c20a3[_0x4ef173(0x1dd)];var _0x2b4745={'labelText_Actual':_0x5b5b27,'lableText_Converted':_0x55abcd};labels[_0x4ef173(0x1f8)](_0x2b4745);}),DetectBrowser();}function DetectBrowser(){var _0x53ced8=a0_0x1486a9,_0x3113cc=/constructor/i[_0x53ced8(0x220)](window[_0x53ced8(0x1ec)])||function(_0xd252f){var _0x3d9eb6=_0x53ced8;return _0xd252f[_0x3d9eb6(0x188)]()===_0x3d9eb6(0x18b);}(!window[_0x53ced8(0x1f3)]||typeof safari!==_0x53ced8(0x1c1)&&safari[_0x53ced8(0x1ff)]),_0x3db0f9=![]||!!document['documentMode'];_0x3113cc||_0x3db0f9?ChangeWebPartsHeadings_OldBrowser():ChangeWebPartsHeadings();}function ChangeWebPartsHeadings(){var _0x4282bc=a0_0x1486a9;try{$(_0x4282bc(0x1eb))[_0x4282bc(0x17f)](function(_0x115de8,_0x15e9c0){var _0x397bcc=_0x4282bc;try{var _0x545647=$(this)[_0x397bcc(0x1b7)](_0x397bcc(0x1e1)),_0x5947bd=labels[_0x397bcc(0x179)](function(_0x16538b){var _0x2182da=_0x397bcc;return _0x16538b[_0x2182da(0x1b1)]['trim']()===_0x545647;})[_0x397bcc(0x1f6)];if($(this)[_0x397bcc(0x179)]('a')[_0x397bcc(0x1fa)]>0x0)$(this)[_0x397bcc(0x179)]('a')[_0x397bcc(0x1e8)](_0x5947bd);else{if($(this)[_0x397bcc(0x179)]('b')[_0x397bcc(0x1fa)]>0x0)$(this)[_0x397bcc(0x179)]('b')[_0x397bcc(0x1e8)](_0x5947bd);else{if($(this)[_0x397bcc(0x179)]('p')['length']>0x0)$(this)[_0x397bcc(0x179)]('p')[_0x397bcc(0x1e8)](_0x5947bd);else $(this)[_0x397bcc(0x1ba)](_0x397bcc(0x20e))?$(this)[_0x397bcc(0x1b7)]('value',_0x5947bd):$(this)[_0x397bcc(0x1e8)](_0x5947bd);}}}catch(_0x1b2d10){console[_0x397bcc(0x1b4)](_0x397bcc(0x178)+_0x545647+'\x20key\x20not\x20found.'),$(this)[_0x397bcc(0x1b7)](_0x397bcc(0x204),$(this)[_0x397bcc(0x192)]());}});}catch(_0x440e9d){console[_0x4282bc(0x1b4)](_0x4282bc(0x178)+_0x440e9d);}}function ChangeWebPartsHeadings_OldBrowser(){var _0x1b2edb=a0_0x1486a9;try{$(_0x1b2edb(0x1eb))['each'](function(_0x339c25,_0x2e867b){var _0x511fdc=_0x1b2edb;try{var _0x32812a=$(this)['attr'](_0x511fdc(0x1e1)),_0x5423fd=findObjectByKey(labels,_0x32812a,_0x32812a);if($(this)[_0x511fdc(0x179)]('a')[_0x511fdc(0x1fa)]>0x0)$(this)[_0x511fdc(0x179)]('a')[_0x511fdc(0x1e8)](_0x5423fd);else{if($(this)[_0x511fdc(0x179)]('b')[_0x511fdc(0x1fa)]>0x0)$(this)[_0x511fdc(0x179)]('b')[_0x511fdc(0x1e8)](_0x5423fd);else{if($(this)[_0x511fdc(0x179)]('p')['length']>0x0)$(this)['find']('p')['html'](_0x5423fd);else $(this)[_0x511fdc(0x1ba)](_0x511fdc(0x20e))?_0x5423fd!=null&&_0x5423fd!='null'&&_0x5423fd!=''?$(this)[_0x511fdc(0x1b7)]('value',_0x5423fd):$(this)[_0x511fdc(0x1b7)]('value',$(this)[_0x511fdc(0x192)]()):_0x5423fd!=null&&_0x5423fd!='null'&&_0x5423fd!=''?$(this)[_0x511fdc(0x1e8)](_0x5423fd):$(this)[_0x511fdc(0x1e8)]($(this)[_0x511fdc(0x1ac)]());}}}catch(_0x3d18cb){console['log'](_0x511fdc(0x178)+_0x32812a+'\x20key\x20not\x20found.'),$(this)[_0x511fdc(0x1b7)]('value',$(this)[_0x511fdc(0x192)]());}});}catch(_0x65b489){console['log'](_0x1b2edb(0x178)+_0x65b489);}}function findObjectByKey(_0x3cd2fc,_0x2e3646,_0x4267a2){var _0x4c14b1=a0_0x1486a9;for(var _0xc33293=0x0;_0xc33293<_0x3cd2fc[_0x4c14b1(0x1fa)];_0xc33293++){if(_0x3cd2fc[_0xc33293][_0x4c14b1(0x1b1)]==_0x4267a2)return _0x3cd2fc[_0xc33293][_0x4c14b1(0x1f6)];}return null;}function changeActivityStatus(){var _0xb518d=a0_0x1486a9,_0x43fae0=$[_0xb518d(0x182)]('ItemId');if(confirm(_0xb518d(0x1d4))){var _0x23e7b4=_0xb518d(0x1f1),_0x53f10f=titanForWork[_0xb518d(0x1c0)](_0xb518d(0x1ca))+_0xb518d(0x187)+_0x23e7b4+'\x27)/Items('+_0x43fae0+')';$[_0xb518d(0x1ef)]({'url':_0x53f10f,'type':_0xb518d(0x190),'async':![],'data':JSON[_0xb518d(0x18c)]({'__metadata':{'type':_0xb518d(0x1fe)},'ApprovalStatus':_0xb518d(0x209),'ApprovarName':_spPageContextInfo['userDisplayName'],'Active':![]}),'headers':{'accept':_0xb518d(0x214),'X-RequestDigest':$('#__REQUESTDIGEST')[_0xb518d(0x192)](),'content-Type':_0xb518d(0x214),'X-Http-Method':_0xb518d(0x1a2),'If-Match':'*'},'success':function(_0x1cf052,_0x7bc299,_0x3b3670){var _0x42e760=_0xb518d;alert('Suggestion\x20deleted\x20successfully.'),window[_0x42e760(0x177)]['replace']($[_0x42e760(0x182)](_0x42e760(0x194)));},'error':function(_0x5723c4){var _0x348c4a=_0xb518d;console[_0x348c4a(0x1b4)](_0x5723c4);}});}}