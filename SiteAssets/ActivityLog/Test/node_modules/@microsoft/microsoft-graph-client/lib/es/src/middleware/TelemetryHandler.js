const a0_0x53ce55=a0_0x4c6f;(function(_0x3ba015,_0x5db529){const _0x3dd76e=a0_0x4c6f,_0x579bcb=_0x3ba015();while(!![]){try{const _0x1d02cf=-parseInt(_0x3dd76e(0x117))/0x1*(-parseInt(_0x3dd76e(0x118))/0x2)+parseInt(_0x3dd76e(0x11b))/0x3+-parseInt(_0x3dd76e(0x104))/0x4+-parseInt(_0x3dd76e(0x109))/0x5+parseInt(_0x3dd76e(0x100))/0x6*(parseInt(_0x3dd76e(0x10c))/0x7)+-parseInt(_0x3dd76e(0x101))/0x8*(-parseInt(_0x3dd76e(0x11a))/0x9)+parseInt(_0x3dd76e(0x115))/0xa;if(_0x1d02cf===_0x5db529)break;else _0x579bcb['push'](_0x579bcb['shift']());}catch(_0x11d01a){_0x579bcb['push'](_0x579bcb['shift']());}}}(a0_0x256e,0x317e4));function a0_0x4c6f(_0x1bb713,_0x48be47){const _0x256eb3=a0_0x256e();return a0_0x4c6f=function(_0x4c6f30,_0x32d8a6){_0x4c6f30=_0x4c6f30-0x100;let _0x52ebe0=_0x256eb3[_0x4c6f30];return _0x52ebe0;},a0_0x4c6f(_0x1bb713,_0x48be47);}import{__awaiter}from'tslib';import{isCustomHost,isGraphURL}from'../GraphRequestUtil';function a0_0x256e(){const _0x35a42b=['headers','execute','FEATURE_USAGE_STRING','client-request-id','request','nextMiddleware','1728450MGQRxs','featureUsage','1NirubR','212484HBkRGF','getMiddlewareOptions','705861ROkncc','773793HKNZkH','graph-js','string','4614VuQqqu','32BIKJSl','SDK_VERSION_HEADER','middlewareControl','1414184DwnhLg','options','SdkVersion','customHosts','setNext','1545375WMnkyV','url','CLIENT_REQUEST_ID_HEADER','133lzvwxq','getFeatureUsage','PRODUCT_NAME'];a0_0x256e=function(){return _0x35a42b;};return a0_0x256e();}import{PACKAGE_VERSION}from'../Version';import{MiddlewareControl}from'./MiddlewareControl';import{appendRequestHeader,generateUUID,getRequestHeader,setRequestHeader}from'./MiddlewareUtil';import{TelemetryHandlerOptions}from'./options/TelemetryHandlerOptions';export class TelemetryHandler{[a0_0x53ce55(0x110)](_0x4fc5a7){return __awaiter(this,void 0x0,void 0x0,function*(){const _0xadb025=a0_0x4c6f,_0x188145=typeof _0x4fc5a7[_0xadb025(0x113)]===_0xadb025(0x11d)?_0x4fc5a7[_0xadb025(0x113)]:_0x4fc5a7[_0xadb025(0x113)][_0xadb025(0x10a)];if(isGraphURL(_0x188145)||_0x4fc5a7[_0xadb025(0x107)]&&isCustomHost(_0x188145,_0x4fc5a7[_0xadb025(0x107)])){let _0x417d25=getRequestHeader(_0x4fc5a7['request'],_0x4fc5a7[_0xadb025(0x105)],TelemetryHandler[_0xadb025(0x10b)]);!_0x417d25&&(_0x417d25=generateUUID(),setRequestHeader(_0x4fc5a7[_0xadb025(0x113)],_0x4fc5a7[_0xadb025(0x105)],TelemetryHandler[_0xadb025(0x10b)],_0x417d25));let _0x3fa8e0=TelemetryHandler[_0xadb025(0x10e)]+'/'+PACKAGE_VERSION,_0x51fda4;_0x4fc5a7[_0xadb025(0x103)]instanceof MiddlewareControl&&(_0x51fda4=_0x4fc5a7[_0xadb025(0x103)][_0xadb025(0x119)](TelemetryHandlerOptions));if(_0x51fda4){const _0x1ed061=_0x51fda4[_0xadb025(0x10d)]();_0x3fa8e0+='\x20('+TelemetryHandler[_0xadb025(0x111)]+'='+_0x1ed061+')';}appendRequestHeader(_0x4fc5a7['request'],_0x4fc5a7[_0xadb025(0x105)],TelemetryHandler[_0xadb025(0x102)],_0x3fa8e0);}else delete _0x4fc5a7[_0xadb025(0x105)]['headers'][TelemetryHandler[_0xadb025(0x10b)]],delete _0x4fc5a7[_0xadb025(0x105)][_0xadb025(0x10f)][TelemetryHandler[_0xadb025(0x102)]];return yield this[_0xadb025(0x114)][_0xadb025(0x110)](_0x4fc5a7);});}[a0_0x53ce55(0x108)](_0x3a527a){this['nextMiddleware']=_0x3a527a;}}TelemetryHandler[a0_0x53ce55(0x10b)]=a0_0x53ce55(0x112),TelemetryHandler[a0_0x53ce55(0x102)]=a0_0x53ce55(0x106),TelemetryHandler[a0_0x53ce55(0x10e)]=a0_0x53ce55(0x11c),TelemetryHandler['FEATURE_USAGE_STRING']=a0_0x53ce55(0x116);