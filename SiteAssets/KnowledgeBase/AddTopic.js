var a0_0xab539c=a0_0xa7df;function a0_0xa7df(_0x10bfd2,_0x234341){var _0x327b6b=a0_0x327b();return a0_0xa7df=function(_0xa7dfc5,_0xbafaa7){_0xa7dfc5=_0xa7dfc5-0xd5;var _0x1994ae=_0x327b6b[_0xa7dfc5];return _0x1994ae;},a0_0xa7df(_0x10bfd2,_0x234341);}(function(_0x5207bd,_0x34cdea){var _0x979c6d=a0_0xa7df,_0x4e02f2=_0x5207bd();while(!![]){try{var _0x3c12cb=parseInt(_0x979c6d(0xf1))/0x1*(-parseInt(_0x979c6d(0x158))/0x2)+-parseInt(_0x979c6d(0xe2))/0x3*(parseInt(_0x979c6d(0x12c))/0x4)+-parseInt(_0x979c6d(0x11e))/0x5+parseInt(_0x979c6d(0x137))/0x6+parseInt(_0x979c6d(0x14a))/0x7*(-parseInt(_0x979c6d(0x13d))/0x8)+-parseInt(_0x979c6d(0xed))/0x9*(-parseInt(_0x979c6d(0x127))/0xa)+-parseInt(_0x979c6d(0x123))/0xb*(-parseInt(_0x979c6d(0x14d))/0xc);if(_0x3c12cb===_0x34cdea)break;else _0x4e02f2['push'](_0x4e02f2['shift']());}catch(_0x293a73){_0x4e02f2['push'](_0x4e02f2['shift']());}}}(a0_0x327b,0x73e10));var currentDepartnemtUrls='',prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0,previoscategoryid='',newCategoryId='',departmentID='',CompanyId='';$(document)[a0_0xab539c(0xe7)](function(){var _0x31d75b=a0_0xab539c;CompanyId=titanForWork['getQueryStringParameter'](_0x31d75b(0x13a)),SetPeoplePicker_Multiselect(_0x31d75b(0xf9),!![]),InitializationComponents(),$(_0x31d75b(0x118))['click'](function(){var _0x19ddef=_0x31d75b,_0x5e53c3=$('#txtTopicTitle')['val']();if(_0x5e53c3['length']==0x0)return alert(_0x19ddef(0x122)),![];if(_0x5e53c3['length']>0xfa)return alert(_0x19ddef(0xde)),![];if($(_0x19ddef(0x150))['val']()==null||$(_0x19ddef(0x150))[_0x19ddef(0x10d)]()=='')alert('Please\x20select\x20topic\x20category.');else{var _0x4fa73d=titanForWork['getQueryStringParameter'](_0x19ddef(0x101));_0x4fa73d==''||_0x4fa73d==null?AddNewTopic('Draft'):UpdateTopic(_0x19ddef(0x134),_0x4fa73d);}}),$(_0x31d75b(0x156))['click'](function(){var _0x367fea=_0x31d75b,_0x4f5c36=$('#txtTopicTitle')['val']()[_0x367fea(0x149)](),_0x19991b=$(_0x367fea(0x11c))[_0x367fea(0x11a)]()[_0x367fea(0x149)]();if(_0x4f5c36['length']==0x0)return alert(_0x367fea(0x122)),![];if(_0x19991b[_0x367fea(0x12d)]==0x0)return alert(_0x367fea(0x114)),![];if(_0x4f5c36[_0x367fea(0x12d)]>0xfa)return alert(_0x367fea(0xde)),![];if($(_0x367fea(0x150))[_0x367fea(0x10d)]()==null||$(_0x367fea(0x150))[_0x367fea(0x10d)]()=='')alert(_0x367fea(0xd6));else{if(checkPublishValidation()==!![]){var _0x592a3c=titanForWork[_0x367fea(0x15b)](_0x367fea(0x101));_0x592a3c==''||_0x592a3c==null?AddNewTopic(_0x367fea(0x14e)):UpdateTopic(_0x367fea(0x14e),_0x592a3c);}}}),$(_0x31d75b(0x147))[_0x31d75b(0xf0)](function(){var _0x2a3d67=_0x31d75b,_0x390ab3=titanForWork[_0x2a3d67(0x15b)]('topicid');$[_0x2a3d67(0x110)](this['files'],function(_0x15d695,_0x3fbcc2){var _0x5ef80e=_0x2a3d67,_0x26dcf2=_0x3fbcc2[_0x5ef80e(0x136)]['split']('.');_0x26dcf2=_0x26dcf2[_0x26dcf2[_0x5ef80e(0x12d)]-0x1];var _0x563e1b=returnExtension(_0x26dcf2);if(_0x563e1b==!![])return alert(_0x26dcf2+_0x5ef80e(0xf2)),![];}),_0x390ab3==''||_0x390ab3==null?alert('Please\x20click\x20on\x20draft.'):AddAttachments(_0x390ab3);}),$(_0x31d75b(0x145))[_0x31d75b(0x157)](function(){var _0x2664ad=_0x31d75b,_0x314eec=confirm(_0x2664ad(0xd5));_0x314eec==!![]&&RemoveListItem();}),$(_0x31d75b(0x154))['click'](function(){var _0x29825c=_0x31d75b;document['location']['href']=_0x29825c(0xe3)+CompanyId+'';});});function UserAuthorization(){var _0x2305d2=a0_0xab539c,_0x3a7042=titanForWork['getQueryStringParameter']('CompanyId');titanForWork['PageAuthorization'](_0x2305d2(0xd9),_0x3a7042)[_0x2305d2(0x125)](function(_0x41a713,_0x18e46e){var _0xbede49=_0x2305d2;if(_0x41a713['length']>0x0){if(_0x41a713[0x0][_0xbede49(0x128)]=='SiteAdmin'||_0x41a713[0x0]['TechAdmin']==_0xbede49(0x12a)){}else alert(_0x18e46e),window[_0xbede49(0x140)][_0xbede49(0x155)]=_spPageContextInfo[_0xbede49(0xf5)]+'/Pages/Default.aspx?WebAppId='+_0x3a7042;}});}function AddNewOnPageLoadTopic(){var _0x1b053b=a0_0xab539c,_0xb4ac2c=_0x1b053b(0x100),_0x44b135=GetItemTypeForListName(_0xb4ac2c),_0x48b629;_0x48b629={'__metadata':{'type':_0x44b135},'Title':$(_0x1b053b(0x11b))['val'](),'Description':$(_0x1b053b(0x11c))['html'](),'KnowledgeCategoryId':$(_0x1b053b(0x150))['val'](),'ApprovalStatus':'Not\x20Submitted'},$[_0x1b053b(0x124)](AddItemToList(_0xb4ac2c,_0x48b629))[_0x1b053b(0x125)](function(_0x2f22d5){var _0x120b8a=_0x1b053b,_0x2c35f1=_0x2f22d5['d'];document['location'][_0x120b8a(0x155)]=document[_0x120b8a(0x140)][_0x120b8a(0x155)]+_0x120b8a(0x152)+_0x2c35f1['ID']+_0x120b8a(0xdb);})[_0x1b053b(0x107)](function(){var _0x3a1d1f=_0x1b053b;console['log'](_0x3a1d1f(0x151));});}function AddNewTopic(_0x301da2){var _0x276c0e=a0_0xab539c,_0x39f719=ListCommonService[_0x276c0e(0x13f)]('newEmployeePicker'),_0x4be8dd=_0x276c0e(0x100),_0x1ad390=new Date(),_0x2d1b52=GetItemTypeForListName(_0x4be8dd),_0x121fb4;_0x121fb4={'__metadata':{'type':_0x2d1b52},'ApprovedById':_spPageContextInfo['userId'],'ApprovedDate':_0x1ad390[_0x276c0e(0xf6)](),'ApprovalStatus':_0x301da2,'Title':$(_0x276c0e(0x11b))[_0x276c0e(0x10d)](),'Description':$(_0x276c0e(0x11c))[_0x276c0e(0xff)](),'KnowledgeCategoryId':$(_0x276c0e(0x150))[_0x276c0e(0x10d)](),'CoAuthorId':{'results':_0x39f719}},$[_0x276c0e(0x124)](AddItemToList(_0x4be8dd,_0x121fb4))[_0x276c0e(0x125)](function(_0x478f6f){var _0x3e73cb=_0x276c0e,_0x216519=_0x478f6f['d'];$[_0x3e73cb(0x124)](CategoryCounterDetails($(_0x3e73cb(0x150))[_0x3e73cb(0x10d)]()))[_0x3e73cb(0x125)](function(_0x4ba577){var _0xd60d7=_0x3e73cb,_0x2a8a1d=_0xd60d7(0x102),_0x423226=GetItemTypeForListName(_0x2a8a1d),_0x25a9cf;_0x25a9cf={'__metadata':{'type':_0x423226},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0xd60d7(0x124)](updateItemWithID(_0x2a8a1d,_0x25a9cf,$('#ddlCategory')[_0xd60d7(0x10d)]()))['done'](function(_0x405574){var _0x12c572=_0xd60d7;_0x301da2=='Approved'?(alert(_0x12c572(0xdd)),document['location'][_0x12c572(0x155)]=_0x12c572(0xe3)+CompanyId+''):(alert(_0x12c572(0x104)),document['location'][_0x12c572(0x155)]=document[_0x12c572(0x140)][_0x12c572(0x155)]+_0x12c572(0x152)+_0x216519['ID']+_0x12c572(0x12e));})[_0xd60d7(0x107)](function(){var _0x19620d=_0xd60d7;console[_0x19620d(0x143)]('Error\x20in\x20adding\x20Topic.');});})[_0x3e73cb(0x107)](function(){console['log']('Error\x20in\x20adding\x20Topic.');});})[_0x276c0e(0x107)](function(){var _0x4c2a87=_0x276c0e;console[_0x4c2a87(0x143)](_0x4c2a87(0x151));});}function UpdateTopic(_0x3ddc7a,_0x21622f){var _0x3637f5=a0_0xab539c,_0x3cd3de=ListCommonService[_0x3637f5(0x13f)]('newEmployeePicker'),_0xefdc70=_0x3637f5(0x100),_0x310002=new Date(),_0xe4b4a8=GetItemTypeForListName(_0xefdc70),_0x525d80;_0x525d80={'__metadata':{'type':_0xe4b4a8},'ApprovedById':_spPageContextInfo[_0x3637f5(0xdf)],'ApprovedDate':_0x310002['toISOString'](),'ApprovalStatus':_0x3ddc7a,'Title':$('#txtTopicTitle')[_0x3637f5(0x10d)](),'Description':$('.Editor-editor')[_0x3637f5(0xff)](),'KnowledgeCategoryId':$('#ddlCategory')[_0x3637f5(0x10d)](),'CoAuthorId':{'results':_0x3cd3de}},$['when'](updateItemWithID(_0xefdc70,_0x525d80,_0x21622f))[_0x3637f5(0x125)](function(_0x4147fb){var _0x4821ff=_0x3637f5;$[_0x4821ff(0x124)](CategoryCounterDetails(previoscategoryid))[_0x4821ff(0x125)](function(_0x6508c7){var _0x5e32da=_0x4821ff,_0x1b06ee=_0x5e32da(0x102),_0x2148b8=GetItemTypeForListName(_0x1b06ee),_0x4f167b;_0x4f167b={'__metadata':{'type':_0x2148b8},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x5e32da(0x124)](updateItemWithID(_0x1b06ee,_0x4f167b,previoscategoryid))['done'](function(_0x290378){var _0x24784e=_0x5e32da;newCategoryId=$(_0x24784e(0x150))['val'](),previoscategoryid!=newCategoryId?$[_0x24784e(0x124)](CategoryCounterDetails(newCategoryId))[_0x24784e(0x125)](function(_0x3a24b0){var _0x1e39fd=_0x24784e,_0x120a35=_0x1e39fd(0x102),_0x3e4b3c=GetItemTypeForListName(_0x120a35),_0x54e8cd;_0x54e8cd={'__metadata':{'type':_0x3e4b3c},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x1e39fd(0x124)](updateItemWithID(_0x120a35,_0x54e8cd,newCategoryId))[_0x1e39fd(0x125)](function(_0x1cb317){var _0x4c3808=_0x1e39fd;_0x3ddc7a==_0x4c3808(0x14e)?(alert(_0x4c3808(0xdd)),document[_0x4c3808(0x140)][_0x4c3808(0x155)]=_0x4c3808(0xe3)+CompanyId+''):(alert(_0x4c3808(0x104)),document[_0x4c3808(0x140)][_0x4c3808(0x155)]=document[_0x4c3808(0x140)][_0x4c3808(0x155)][_0x4c3808(0x111)]('?')[0x0]+'?WebAppId=232&DepartmentId='+departmentID+_0x4c3808(0x152)+_0x21622f+_0x4c3808(0x12e));});}):_0x3ddc7a==_0x24784e(0x14e)?(alert('Topic\x20has\x20been\x20published\x20successfully.'),document[_0x24784e(0x140)][_0x24784e(0x155)]=_0x24784e(0xe3)+CompanyId+''):(alert(_0x24784e(0x104)),document[_0x24784e(0x140)]['href']=document[_0x24784e(0x140)][_0x24784e(0x155)]['split']('?')[0x0]+'?WebAppId=232&DepartmentId='+departmentID+_0x24784e(0x152)+_0x21622f+_0x24784e(0x12e));});})['fail'](function(){var _0xb967b6=_0x4821ff;console[_0xb967b6(0x143)](_0xb967b6(0xe6));});});}function CategoryCounterDetails(_0x523407){var _0x236d6f=a0_0xab539c;prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0;var _0x5a068d=$[_0x236d6f(0x116)](),_0x4cc37b=_0x236d6f(0xe4)+_0x523407+'\x27',_0x2a1717=currentDepartnemtUrls+_0x236d6f(0xfc)+_0x4cc37b;return $['ajax']({'url':_0x2a1717,'headers':{'Accept':_0x236d6f(0x148)},'async':![],'success':function(_0xd75c8c){var _0x47ad1e=_0x236d6f,_0x4ed746=_0xd75c8c['d'][_0x47ad1e(0xe0)];for(var _0xf69eac=0x0;_0xf69eac<_0x4ed746[_0x47ad1e(0x12d)];_0xf69eac++){if(_0x4ed746[_0xf69eac][_0x47ad1e(0xfd)]==_0x47ad1e(0x14e))prevPublishedCounter++;else{if(_0x4ed746[_0xf69eac]['ApprovalStatus']==_0x47ad1e(0x15c))prevPendingCounter++;else _0x4ed746[_0xf69eac][_0x47ad1e(0xfd)]==_0x47ad1e(0x134)&&prevDraftCounter++;}}_0x5a068d['resolve'](_0xd75c8c);},'eror':function(_0x4c3aa2){var _0x456436=_0x236d6f;console[_0x456436(0x143)](_0x456436(0x103));}}),_0x5a068d['promise']();}function GetTopicDetails(_0x4d69b9,_0xc814c8){var _0x45b0d0=a0_0xab539c,_0x70e129='',_0x58ccb6=_0x45b0d0(0x133)+_0xc814c8+'\x27',_0x3091ad=_0x4d69b9+_0x45b0d0(0xfc)+_0x58ccb6;$['ajax']({'url':_0x3091ad,'headers':{'Accept':_0x45b0d0(0x148)},'async':![],'success':function(_0x181e08){var _0xeb97ea=_0x45b0d0,_0x3edba2=_0x181e08['d'][_0xeb97ea(0xe0)];for(var _0x39d634=0x0;_0x39d634<_0x3edba2['length'];_0x39d634++){var _0x56b66f=_0x3edba2[_0x39d634][_0xeb97ea(0xd8)];$(_0xeb97ea(0x11b))[_0xeb97ea(0x10d)](_0x56b66f);var _0x14a6ad=_0x3edba2[_0x39d634][_0xeb97ea(0xe9)];$(_0xeb97ea(0x11c))['html'](_0x14a6ad);var _0x305841=_0x3edba2[_0x39d634][_0xeb97ea(0x13c)];$(_0xeb97ea(0x150))[_0xeb97ea(0x10d)](_0x305841),$(_0xeb97ea(0x145))[_0xeb97ea(0xef)](),previoscategoryid=_0x305841,_0x70e129=_0x3edba2[0x0][_0xeb97ea(0x131)][_0xeb97ea(0xe0)];if(_0x70e129!=null)for(var _0x5a5072=0x0;_0x5a5072<_0x70e129['length'];_0x5a5072++){var _0x1e4d51=_0x70e129[_0x5a5072][_0xeb97ea(0xeb)];setPeoplePickerUsersInfoCurrent(_0xeb97ea(0xfa),_0x1e4d51);}if(_0x3edba2[_0x39d634][_0xeb97ea(0xfd)]==_0xeb97ea(0x14e)){}}},'eror':function(_0x3f4188){var _0x5d8b42=_0x45b0d0;console[_0x5d8b42(0x143)](_0x5d8b42(0x103));}});}function GetAttachments(_0x4c3750,_0x1d5760){var _0x49e386=a0_0xab539c,_0x29ef82=_0x49e386(0xe1)+_0x1d5760+'\x27',_0x309dd9=_0x4c3750+_0x49e386(0xfc)+_0x29ef82;$[_0x49e386(0xda)]({'url':_0x309dd9,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x3383b0){var _0x27a45f=_0x49e386,_0xa2abe0=_0x3383b0['d']['results'];for(var _0x49aea8=0x0;_0x49aea8<_0xa2abe0['length'];_0x49aea8++){var _0x2d199b='';if(_0xa2abe0[_0x49aea8][_0x27a45f(0x135)][_0x27a45f(0xe0)][_0x27a45f(0x12d)]>0x0){$(_0x27a45f(0xec))[_0x27a45f(0xef)]();for(var _0x6f1d5a=0x0;_0x6f1d5a<_0xa2abe0[_0x49aea8][_0x27a45f(0x135)][_0x27a45f(0xe0)]['length'];_0x6f1d5a++){_0x2d199b+='<a\x20id=\x27btnLinkAttachment\x27\x20target=\x27_blank\x27\x20href=\x27'+_0xa2abe0[_0x49aea8]['AttachmentFiles']['results'][_0x6f1d5a]['ServerRelativeUrl']+'\x27>'+_0xa2abe0[_0x49aea8]['AttachmentFiles'][_0x27a45f(0xe0)][_0x6f1d5a][_0x27a45f(0x108)]+'</a>&nbsp';{_0x2d199b+=_0x27a45f(0xfe)+_0x1d5760+'\x27,\x27'+escape(_0xa2abe0[_0x49aea8]['AttachmentFiles'][_0x27a45f(0xe0)][_0x6f1d5a][_0x27a45f(0x108)])+_0x27a45f(0x11f);}}$(_0x27a45f(0xec))[_0x27a45f(0xff)](''),$('#spanAttachmentCollection')['append'](_0x2d199b);}else $(_0x27a45f(0xec))[_0x27a45f(0x153)]();if(_0xa2abe0[_0x49aea8][_0x27a45f(0xfd)]==_0x27a45f(0x14e)){}}},'eror':function(_0xd70052){var _0x10d651=_0x49e386;console[_0x10d651(0x143)](_0x10d651(0x103));}});}function InitializationComponents(){var _0x5d4384=a0_0xab539c;departmentID=GetParameterValues(_0x5d4384(0x13e)),departmentID>0x0&&GetDepartmentUrl(_0x5d4384(0x10e),departmentID);}function GetDepartmentUrl(_0x30a9aa,_0x307ed0){var _0x5f1c94=a0_0xab539c,_0x36ffda=_spPageContextInfo[_0x5f1c94(0xf5)]+'/_api/web/lists/getbytitle(\x27Departments\x27)/items?$select=ID,SiteURL&$filter=ID\x20eq\x20\x27'+_0x307ed0+'\x27';$['ajax']({'url':_0x36ffda,'headers':{'Accept':_0x5f1c94(0x148)},'async':!![],'success':function(_0x1c0fbe){var _0x425cd1=_0x5f1c94,_0x44bc58=_0x1c0fbe['d']['results'];if(_0x44bc58[_0x425cd1(0x12d)]>0x0){currentDepartnemtUrls=_0x44bc58[0x0][_0x425cd1(0xf7)],bindCategoryDropDown(),$(_0x425cd1(0xec))[_0x425cd1(0x153)]();var _0x297143=titanForWork[_0x425cd1(0x15b)](_0x425cd1(0x101));if(_0x297143!=null&&_0x297143!=''){GetTopicDetails(currentDepartnemtUrls,_0x297143),GetAttachments(currentDepartnemtUrls,_0x297143);var _0x5b24ab=titanForWork[_0x425cd1(0x15b)]('hideDelete');_0x5b24ab==null?$(_0x425cd1(0x145))[_0x425cd1(0xef)]():$('#btnDelete')[_0x425cd1(0x153)]();}else $('#txtAttachment')[_0x425cd1(0x153)](),AddNewOnPageLoadTopic();}},'eror':function(_0x2fceae){var _0x10b1a9=_0x5f1c94;console[_0x10b1a9(0x143)]($('#txtSomethingWentWrong')[_0x10b1a9(0x10d)]());}});}function bindCategoryDropDown(){var _0x2413b9=a0_0xab539c,_0x1cba43='';$(_0x2413b9(0x150))['empty'](),_0x1cba43='Title,ID&$filter=Status\x20eq\x20\x271\x27';var _0x3efd78=currentDepartnemtUrls+_0x2413b9(0xe8)+_0x1cba43;$[_0x2413b9(0xda)]({'url':_0x3efd78,'headers':{'Accept':_0x2413b9(0x148)},'async':![],'success':function(_0x485b0e){var _0x3107ef=_0x2413b9,_0x32807f=_0x485b0e['d']['results'];for(var _0x1c4272=0x0;_0x1c4272<_0x32807f[_0x3107ef(0x12d)];_0x1c4272++){var _0x56d2ca=_0x32807f[_0x1c4272][_0x3107ef(0xd8)],_0x55fe48=_0x32807f[_0x1c4272]['ID'];$(_0x3107ef(0x150))[_0x3107ef(0x141)]($('<option></option>')[_0x3107ef(0x15e)](_0x3107ef(0xd7),_0x55fe48)[_0x3107ef(0x11a)](_0x56d2ca));}var _0x9a16bf=titanForWork[_0x3107ef(0x15b)](_0x3107ef(0x15f));_0x9a16bf!=null&&$(_0x3107ef(0x150))[_0x3107ef(0x10d)](_0x9a16bf);},'eror':function(_0x4ae6d3){var _0x2fa493=_0x2413b9;console[_0x2fa493(0x143)](_0x2fa493(0x103));}});}function a0_0x327b(){var _0x38b004=['SPClientPeoplePickerDict','ListItem','Please\x20enter\x20topic\x20description.','.sp-peoplepicker-editorInput','Deferred','/_api/web/lists/GetByTitle(\x27KnowledgeBase\x27)/GetItemById(','#btnDraft','charAt','text','#txtTopicTitle','.Editor-editor','prop','2740660diRATF','\x27);>x</span></label>&nbsp&nbsp','Please\x20add\x20topic.','/_api/web/lists/getbytitle(\x27','Please\x20enter\x20topic\x20title.','649ZXAgpM','when','done','reject','302650ejIJOd','SiteAdmin','stringify','TechAdmin','Key','104PAQPwl','length','&undefined=undefined','files','disabled','CoAuthor','result','ID,ApprovedDate,ApprovalStatus,Title,Description,AttachmentFiles,KnowledgeCategoryId,CoAuthor/UserName,ApprovedBy/Id,ApprovedBy/UserName&$expand=ApprovedBy,AttachmentFiles,CoAuthor&$filter=ID\x20eq\x20\x27','Draft','AttachmentFiles','name','812220PdwiDJ','[id^=\x27','resolve','CompanyId','AddUserKeys','KnowledgeCategoryId','7473208cfuaic','DepartmentId','getMultiPeoplePickerUserInfo','location','append','GetContextWebInformation','log','/_api/contextinfo','#btnDelete','SearchPrincipalSource','#txtAttachment','application/json;odata=verbose','trim','7zTdMjr','slice','focus','550404hkBctE','Approved','Width','#ddlCategory','Error\x20in\x20adding\x20Topic.','&topicid=','hide','#btnCloseTopicForm','href','#btnApproved','click','8uNiGPr','readAsArrayBuffer','The\x20file\x20name\x20is\x20already\x20exist.','getQueryStringParameter','Pending','MaximumEntitySuggestions','attr','topiccategoryid','Are\x20you\x20sure,you\x20want\x20to\x20delete\x20this\x20item\x20?','Please\x20select\x20topic\x20category.','value','Title','ManageCompany','ajax','&hideDelete=1&undefined=undefined',')/AttachmentFiles/getByFileName(\x27','Topic\x20has\x20been\x20published\x20successfully.','Title\x20can\x27t\x20be\x20more\x20than\x20250\x20characters.','userId','results','ID,AttachmentFiles,ApprovalStatus&$expand=AttachmentFiles&$filter=ID\x20eq\x20\x27','55023AxchLz','../Pages/Myworkplace.aspx?WebAppId=','ID,ApprovalStatus,KnowledgeCategoryId&$top=5000&$filter=KnowledgeCategoryId\x20eq\x20\x27','\x27)/items?$select=','Error\x20in\x20updating\x20Topic.','ready','/_api/web/lists/getbytitle(\x27KnowledgeBaseCategory\x27)/items?$select=','Description','ResolvePrincipalSource','UserName','#spanAttachmentCollection','54ahsQds','onload','show','change','147331fdMsGC','\x20This\x20files\x20type\x20are\x20not\x20allow!\x20','readonly','promise','webAbsoluteUrl','toISOString','SiteURL','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items(\x27','newEmployeePicker','newEmployeePicker_TopSpan','User','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select=','ApprovalStatus','<span\x20aria-hidden=\x27true\x27\x20id=\x27btnDeleteAttachment\x27\x20style=\x27cursor:\x20pointer;\x27onclick=DeleteItemAttachment(\x27','html','KnowledgeBase','topicid','KnowledgeBaseCategory','error','Topic\x20has\x20been\x20saved\x20as\x20draft\x20successfully.','#__REQUESTDIGEST','PATCH','fail','FileName','\x27)/GetItemById(\x27','POST','FormDigestValue','DELETE','val','Departments','PrincipalAccountType','each','split'];a0_0x327b=function(){return _0x38b004;};return a0_0x327b();}function setPeoplePickerUsersInfoCurrent(_0x4cf54d,_0x5e5b1d){var _0x1186e1=a0_0xab539c,_0x3df45f=$('[id$=\x27'+_0x4cf54d+'\x27]'),_0x474ffe=SPClientPeoplePicker[_0x1186e1(0x112)][_0x3df45f[0x0]['id']];_0x474ffe[_0x1186e1(0x13b)](_0x5e5b1d,![]);}function updateItemWithID(_0x568d78,_0x1c0843,_0x5ec2ca){var _0x7cff26=a0_0xab539c,_0xd33444=$[_0x7cff26(0x116)]();return $['ajax']({'url':currentDepartnemtUrls+_0x7cff26(0x121)+_0x568d78+_0x7cff26(0x109)+_0x5ec2ca+'\x27)','type':_0x7cff26(0x10a),'headers':{'accept':'application/json;odata=verbose','X-RequestDigest':$('#__REQUESTDIGEST')['val'](),'content-Type':_0x7cff26(0x148),'X-Http-Method':_0x7cff26(0x106),'If-Match':'*'},'data':JSON[_0x7cff26(0x129)](_0x1c0843),'async':![],'success':function(_0x55bbdd){_0xd33444['resolve'](!![]);},'error':function(_0x5bdc7b){var _0x64c547=_0x7cff26;alert(JSON[_0x64c547(0x129)](_0x5bdc7b)),_0xd33444[_0x64c547(0x126)](_0x5bdc7b);}}),_0xd33444['promise']();}function GetItemTypeForListName(_0x52c3cf){var _0x24622a=a0_0xab539c;return'SP.Data.'+_0x52c3cf[_0x24622a(0x119)](0x0)['toUpperCase']()+_0x52c3cf[_0x24622a(0x111)]('\x20')['join']('')[_0x24622a(0x14b)](0x1)+_0x24622a(0x113);}function getUserInfo(_0xfd40c9){var _0x1c2154=a0_0xab539c,_0x57f131=$(_0x1c2154(0x138)+_0xfd40c9+'\x27]'),_0x37886f=SPClientPeoplePicker['SPClientPeoplePickerDict'][_0x57f131[0x1]['id']],_0x5adcb4=_0x37886f['GetAllUserInfo'](),_0x482c90='';return _0x5adcb4[_0x1c2154(0x12d)]>0x0&&(_0x482c90=_0x5adcb4[0x0][_0x1c2154(0x12b)]),_0x482c90;}function SetPeoplePicker_Multiselect(_0x139e82,_0xa7308e){var _0x265ff4=a0_0xab539c;_0xa7308e==null&&(_0xa7308e=![]);var _0x391ceb={};_0x391ceb[_0x265ff4(0x10f)]=_0x265ff4(0xfb),_0x391ceb[_0x265ff4(0x146)]=0xf,_0x391ceb[_0x265ff4(0xea)]=0xf,_0x391ceb['AllowMultipleValues']=_0xa7308e,_0x391ceb[_0x265ff4(0x15d)]=0x32,_0x391ceb[_0x265ff4(0x14f)]='',SPClientPeoplePicker_InitStandaloneControlWrapper(_0x139e82,null,_0x391ceb);}function AddItemToList(_0x6643a1,_0x2e8832){var _0x2d1b62=a0_0xab539c,_0x4b12aa=$[_0x2d1b62(0x116)]();restQuery='ID';var _0x5d943a=currentDepartnemtUrls+_0x2d1b62(0x121)+_0x6643a1+_0x2d1b62(0xe5)+restQuery;return $[_0x2d1b62(0xda)]({'url':_0x5d943a,'type':_0x2d1b62(0x10a),'async':![],'headers':{'accept':_0x2d1b62(0x148),'X-RequestDigest':$('#__REQUESTDIGEST')[_0x2d1b62(0x10d)](),'content-Type':_0x2d1b62(0x148)},'data':JSON['stringify'](_0x2e8832),'success':function(_0x4408bc){var _0x5dd637=_0x2d1b62,_0x2c2d57=_0x4408bc['d']['ID'];_0x4b12aa[_0x5dd637(0x139)](_0x4408bc);},'error':function(_0x1e43ee){var _0x46013b=_0x2d1b62;alert(JSON[_0x46013b(0x129)](_0x1e43ee)),_0x4b12aa[_0x46013b(0x126)](_0x1e43ee);}}),_0x4b12aa[_0x2d1b62(0xf4)]();}function AddAttachments(_0x77520d){var _0x13c9b5=a0_0xab539c,_0x4bbf91='';$[_0x13c9b5(0xda)]({'url':currentDepartnemtUrls+_0x13c9b5(0x144),'method':_0x13c9b5(0x10a),'headers':{'ACCEPT':'application/json;odata=verbose','content-type':_0x13c9b5(0x148)},'success':function(_0x4e2969){var _0x4f6f72=_0x13c9b5;_0x4bbf91=_0x4e2969['d'][_0x4f6f72(0x142)][_0x4f6f72(0x10b)];},'error':function(_0x123159){}})[_0x13c9b5(0x125)](function(){var _0x43cd09=_0x13c9b5,_0x140522=$('#txtAttachment'),_0x40be99=_0x140522[0x0][_0x43cd09(0x12f)][0x0][_0x43cd09(0x136)],_0x123a46=new FileReader();_0x123a46[_0x43cd09(0xee)]=function(_0x4e110b){var _0x4bdb14=_0x43cd09,_0x1a6f2d=_0x4e110b['target'][_0x4bdb14(0x132)],_0x17dcf1=$[_0x4bdb14(0xda)]({'url':currentDepartnemtUrls+_0x4bdb14(0xf8)+_0x77520d+'\x27)/AttachmentFiles/\x20add(FileName=\x27'+_0x40be99+'\x27)','method':_0x4bdb14(0x10a),'binaryStringRequestBody':!![],'data':_0x1a6f2d,'processData':![],'headers':{'ACCEPT':_0x4bdb14(0x148),'X-RequestDigest':_0x4bbf91},'success':function(_0x2df4d2){var _0x5495c6=_0x4bdb14,_0x357eca=titanForWork[_0x5495c6(0x15b)](_0x5495c6(0x101));GetAttachments(currentDepartnemtUrls,_0x357eca),$('#spanAttachmentCollection')[_0x5495c6(0xef)](),$('#txtAttachment')[_0x5495c6(0x10d)](null);},'error':function(_0x292139){var _0x17a678=_0x4bdb14;alert(_0x17a678(0x15a));}});},_0x123a46[_0x43cd09(0x159)](_0x140522[0x0][_0x43cd09(0x12f)][0x0]);});}function DeleteItemAttachment(_0x17f1a6,_0x581ca5){var _0x1d7f02=a0_0xab539c;_0x581ca5=unescape(_0x581ca5);var _0x722eca=$[_0x1d7f02(0x116)](),_0x101b8d=currentDepartnemtUrls+_0x1d7f02(0x117)+_0x17f1a6+_0x1d7f02(0xdc)+_0x581ca5+'\x27)';return $[_0x1d7f02(0xda)]({'url':_0x101b8d,'type':_0x1d7f02(0x10c),'contentType':_0x1d7f02(0x148),'headers':{'X-RequestDigest':$(_0x1d7f02(0x105))[_0x1d7f02(0x10d)](),'X-HTTP-Method':_0x1d7f02(0x10c),'Accept':'application/json;odata=verbose'},'success':function(_0x1fa7aa){var _0x3ad7d8=_0x1d7f02,_0x4aea0b=titanForWork[_0x3ad7d8(0x15b)]('topicid');$(_0x3ad7d8(0x147))[_0x3ad7d8(0x10d)](''),GetAttachments(currentDepartnemtUrls,_0x4aea0b),_0x722eca['resolve'](_0x1fa7aa);},'error':function(_0x1ea333){var _0x539951=_0x1d7f02;_0x722eca[_0x539951(0x126)](JSON['stringify'](_0x1ea333));}}),_0x722eca[_0x1d7f02(0xf4)]();}function checkPublishValidation(){var _0x8bb082=a0_0xab539c;if($('#txtTopicTitle')[_0x8bb082(0x10d)]()=='')return alert(_0x8bb082(0x120)),$('#txtTopicTitle')[_0x8bb082(0x14c)](),![];if($('.Editor-editor')[_0x8bb082(0x11a)]()=='')return alert('Please\x20enter\x20description.'),$('.Editor-editor')[_0x8bb082(0x14c)](),![];return!![];}function RemoveListItem(){var _0x38abb2=a0_0xab539c,_0x45394e=titanForWork[_0x38abb2(0x15b)]('topicid');$['ajax']({'url':currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items('+_0x45394e+')','type':'POST','contentType':'application/json;odata=verbose','headers':{'Accept':'application/json;odata=verbose','X-RequestDigest':$(_0x38abb2(0x105))[_0x38abb2(0x10d)](),'IF-MATCH':'*','X-HTTP-Method':'DELETE'},'success':function(_0x1e13cd){var _0x51a8a7=_0x38abb2;$[_0x51a8a7(0x124)](CategoryCounterDetails($(_0x51a8a7(0x150))[_0x51a8a7(0x10d)]()))[_0x51a8a7(0x125)](function(_0x5bcead){var _0x5bb834=_0x51a8a7,_0x7d239e=_0x5bb834(0x102),_0x28a73b=GetItemTypeForListName(_0x7d239e),_0x223545;_0x223545={'__metadata':{'type':_0x28a73b},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$['when'](updateItemWithID(_0x7d239e,_0x223545,$('#ddlCategory')[_0x5bb834(0x10d)]()))['done'](function(_0x5d2ba7){var _0x11d7c2=_0x5bb834;document[_0x11d7c2(0x140)]['href']=_0x11d7c2(0xe3)+CompanyId+'';})[_0x5bb834(0x107)](function(){var _0xb9f686=_0x5bb834;console[_0xb9f686(0x143)](_0xb9f686(0x151));});})[_0x51a8a7(0x107)](function(){var _0x52fb09=_0x51a8a7;console[_0x52fb09(0x143)](_0x52fb09(0x151));});},'error':function(_0x5511e1){var _0x2ca51d=_0x38abb2;console[_0x2ca51d(0x143)]('Something\x20went\x20wrong.');}});}function controlBoxesReadonly(){var _0x43285d=a0_0xab539c;$(_0x43285d(0x11b))[_0x43285d(0x15e)](_0x43285d(0xf3),!![]),$(_0x43285d(0x11c))['attr']('contenteditable',![]),$(_0x43285d(0x150))[_0x43285d(0x15e)]('disabled',!![]),$(_0x43285d(0x115))[_0x43285d(0x15e)]('disabled',_0x43285d(0x130)),$('#txtAttachment')[_0x43285d(0x11d)](_0x43285d(0x130),!![]),$(_0x43285d(0x156))[_0x43285d(0x153)](),$(_0x43285d(0x118))['hide'](),$(_0x43285d(0x145))[_0x43285d(0x153)]();}function GetParameterValues(_0xd974d){var _0x4bd92c=a0_0xab539c,_0x545481=window[_0x4bd92c(0x140)][_0x4bd92c(0x155)]['slice'](window['location'][_0x4bd92c(0x155)]['indexOf']('?')+0x1)['split']('&');for(var _0x4f09d4=0x0;_0x4f09d4<_0x545481[_0x4bd92c(0x12d)];_0x4f09d4++){var _0x57c719=_0x545481[_0x4f09d4][_0x4bd92c(0x111)]('=');if(_0x57c719[0x0]==_0xd974d)return _0x57c719[0x1];}}