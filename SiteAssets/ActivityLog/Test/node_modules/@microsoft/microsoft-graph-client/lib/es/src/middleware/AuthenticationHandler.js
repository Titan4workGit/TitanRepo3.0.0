const a0_0x27a36e=a0_0x5b79;(function(_0x5180f8,_0x39bdb2){const _0x19a7db=a0_0x5b79,_0x321576=_0x5180f8();while(!![]){try{const _0x15abf9=parseInt(_0x19a7db(0x1d0))/0x1+-parseInt(_0x19a7db(0x1ca))/0x2*(parseInt(_0x19a7db(0x1ce))/0x3)+parseInt(_0x19a7db(0x1d4))/0x4+-parseInt(_0x19a7db(0x1d6))/0x5*(-parseInt(_0x19a7db(0x1d5))/0x6)+parseInt(_0x19a7db(0x1c6))/0x7+-parseInt(_0x19a7db(0x1dd))/0x8+-parseInt(_0x19a7db(0x1d1))/0x9;if(_0x15abf9===_0x39bdb2)break;else _0x321576['push'](_0x321576['shift']());}catch(_0x5e0265){_0x321576['push'](_0x321576['shift']());}}}(a0_0x5cb9,0x2b74f));function a0_0x5b79(_0x553760,_0x2ce508){const _0x5cb9cc=a0_0x5cb9();return a0_0x5b79=function(_0x5b799d,_0x3bab5a){_0x5b799d=_0x5b799d-0x1c5;let _0x2d1d2d=_0x5cb9cc[_0x5b799d];return _0x2d1d2d;},a0_0x5b79(_0x553760,_0x2ce508);}import{__awaiter}from'tslib';import{isCustomHost,isGraphURL}from'../GraphRequestUtil';import{MiddlewareControl}from'./MiddlewareControl';import{appendRequestHeader}from'./MiddlewareUtil';import{AuthenticationHandlerOptions}from'./options/AuthenticationHandlerOptions';import{FeatureUsageFlag,TelemetryHandlerOptions}from'./options/TelemetryHandlerOptions';export class AuthenticationHandler{constructor(_0x4a1136){this['authenticationProvider']=_0x4a1136;}[a0_0x27a36e(0x1dc)](_0xc4dab0){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2ceae7=a0_0x5b79,_0x117602=typeof _0xc4dab0[_0x2ceae7(0x1c8)]==='string'?_0xc4dab0[_0x2ceae7(0x1c8)]:_0xc4dab0[_0x2ceae7(0x1c8)]['url'];if(isGraphURL(_0x117602)||_0xc4dab0[_0x2ceae7(0x1cd)]&&isCustomHost(_0x117602,_0xc4dab0[_0x2ceae7(0x1cd)])){let _0x48a84d;_0xc4dab0[_0x2ceae7(0x1cb)]instanceof MiddlewareControl&&(_0x48a84d=_0xc4dab0['middlewareControl']['getMiddlewareOptions'](AuthenticationHandlerOptions));let _0x1b659a,_0xfa99e1;_0x48a84d&&(_0x1b659a=_0x48a84d['authenticationProvider'],_0xfa99e1=_0x48a84d[_0x2ceae7(0x1cf)]);!_0x1b659a&&(_0x1b659a=this[_0x2ceae7(0x1db)]);const _0x3bf71b=yield _0x1b659a[_0x2ceae7(0x1c5)](_0xfa99e1),_0x4b19f0=_0x2ceae7(0x1c9)+_0x3bf71b;appendRequestHeader(_0xc4dab0[_0x2ceae7(0x1c8)],_0xc4dab0[_0x2ceae7(0x1d2)],AuthenticationHandler['AUTHORIZATION_HEADER'],_0x4b19f0),TelemetryHandlerOptions[_0x2ceae7(0x1d3)](_0xc4dab0,FeatureUsageFlag[_0x2ceae7(0x1d9)]);}else _0xc4dab0[_0x2ceae7(0x1d2)][_0x2ceae7(0x1cc)]&&delete _0xc4dab0['options'][_0x2ceae7(0x1cc)][AuthenticationHandler[_0x2ceae7(0x1d7)]];return yield this[_0x2ceae7(0x1d8)][_0x2ceae7(0x1dc)](_0xc4dab0);});}[a0_0x27a36e(0x1da)](_0x46f745){this['nextMiddleware']=_0x46f745;}}function a0_0x5cb9(){const _0xa76212=['getAccessToken','925197ILYzMJ','Authorization','request','Bearer\x20','2pPuipd','middlewareControl','headers','customHosts','694446fZFHdY','authenticationProviderOptions','45803geCRni','86724IDsuHf','options','updateFeatureUsageFlag','408692usbYwE','18fITBaq','318645oRDwsi','AUTHORIZATION_HEADER','nextMiddleware','AUTHENTICATION_HANDLER_ENABLED','setNext','authenticationProvider','execute','417736wstfOO'];a0_0x5cb9=function(){return _0xa76212;};return a0_0x5cb9();}AuthenticationHandler[a0_0x27a36e(0x1d7)]=a0_0x27a36e(0x1c7);