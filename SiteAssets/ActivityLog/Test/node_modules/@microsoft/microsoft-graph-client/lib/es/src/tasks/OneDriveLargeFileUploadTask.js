const a0_0x4a664b=a0_0x4ba3;(function(_0x4fabc6,_0x3484f3){const _0x69324c=a0_0x4ba3,_0xb74924=_0x4fabc6();while(!![]){try{const _0x4a7e93=-parseInt(_0x69324c(0x9b))/0x1+-parseInt(_0x69324c(0x8b))/0x2+-parseInt(_0x69324c(0xae))/0x3*(parseInt(_0x69324c(0xa1))/0x4)+-parseInt(_0x69324c(0xa9))/0x5+-parseInt(_0x69324c(0xa7))/0x6*(-parseInt(_0x69324c(0x8e))/0x7)+-parseInt(_0x69324c(0x8d))/0x8*(-parseInt(_0x69324c(0x95))/0x9)+parseInt(_0x69324c(0xa3))/0xa*(parseInt(_0x69324c(0xb2))/0xb);if(_0x4a7e93===_0x3484f3)break;else _0xb74924['push'](_0xb74924['shift']());}catch(_0x130376){_0xb74924['push'](_0xb74924['shift']());}}}(a0_0x1b32,0x18bd9));import{__awaiter}from'tslib';import{GraphClientError}from'../GraphClientError';import{FileUpload}from'./FileUploadTask/FileObjectClasses/FileUpload';import{LargeFileUploadTask}from'./LargeFileUploadTask';function a0_0x1b32(){const _0x2da1ed=['name','path','constructCreateSessionUrl','81294gpwyHA','split','448985IBzlxo','content','api','size','client','6drxQyU','call','createTaskWithFileObject','trim','803hIxPwq','fileDescription','366594tlTbGl','slice','528wLSoYT','7uEeWsb','join','/me/drive/root:','byteOffset','uploadSessionURL','file','undefined','909iomDSg','createUploadSession','fileName','create','commit','Please\x20provide\x20the\x20Graph\x20client\x20instance,\x20file\x20object\x20and\x20OneDriveLargeFileUploadOptions\x20value','154665JbCdGc','put','DEFAULT_UPLOAD_PATH','rangeSize',':/createUploadSession','getFileInfo','235064srfUge','conflictBehavior','85810hiBUtP'];a0_0x1b32=function(){return _0x2da1ed;};return a0_0x1b32();}import{getValidRangeSize}from'./OneDriveLargeFileUploadTaskUtil';export class OneDriveLargeFileUploadTask extends LargeFileUploadTask{static[a0_0x4a664b(0xa6)](_0x3ff2f6,_0x4592cf=OneDriveLargeFileUploadTask[a0_0x4a664b(0x9d)]){const _0xda6af4=a0_0x4a664b;return _0x3ff2f6=_0x3ff2f6[_0xda6af4(0xb1)](),_0x4592cf=_0x4592cf[_0xda6af4(0xb1)](),_0x4592cf===''&&(_0x4592cf='/'),_0x4592cf[0x0]!=='/'&&(_0x4592cf='/'+_0x4592cf),_0x4592cf[_0x4592cf['length']-0x1]!=='/'&&(_0x4592cf=_0x4592cf+'/'),_0xda6af4(0x90)+_0x4592cf[_0xda6af4(0xa8)]('/')['map'](_0x1d31f3=>encodeURIComponent(_0x1d31f3))[_0xda6af4(0x8f)]('/')+encodeURIComponent(_0x3ff2f6)+_0xda6af4(0x9f);}static[a0_0x4a664b(0xa0)](_0x418476,_0x2d65b5){const _0x1ee240=a0_0x4a664b;let _0x5c087e,_0x3cf3ec;if(typeof Blob!=='undefined'&&_0x418476 instanceof Blob)_0x5c087e=new File([_0x418476],_0x2d65b5),_0x3cf3ec=_0x5c087e['size'];else{if(typeof File!==_0x1ee240(0x94)&&_0x418476 instanceof File)_0x5c087e=_0x418476,_0x3cf3ec=_0x5c087e[_0x1ee240(0xac)];else{if(typeof Uint8Array!==_0x1ee240(0x94)&&_0x418476 instanceof Uint8Array){const _0x560999=_0x418476;_0x3cf3ec=_0x560999['byteLength'],_0x5c087e=_0x560999['buffer'][_0x1ee240(0x8c)](_0x560999['byteOffset'],_0x560999[_0x1ee240(0x91)]+_0x560999['byteLength']);}}}return{'content':_0x5c087e,'size':_0x3cf3ec};}static[a0_0x4a664b(0x98)](_0x5c0c6f,_0xb4a899,_0x3d3ca4){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x48ce8d=a0_0x4ba3;if(!_0x5c0c6f||!_0xb4a899||!_0x3d3ca4)throw new GraphClientError(_0x48ce8d(0x9a));const _0x231ae2=_0x3d3ca4[_0x48ce8d(0x97)],_0xc02b39=OneDriveLargeFileUploadTask['getFileInfo'](_0xb4a899,_0x231ae2),_0x6a7bd3=new FileUpload(_0xc02b39[_0x48ce8d(0xaa)],_0x231ae2,_0xc02b39['size']);return this['createTaskWithFileObject'](_0x5c0c6f,_0x6a7bd3,_0x3d3ca4);});}static[a0_0x4a664b(0xb0)](_0x2f1939,_0x4ac31f,_0x437f37){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x4ffa1d=a0_0x4ba3;if(!_0x2f1939||!_0x4ac31f||!_0x437f37)throw new GraphClientError('Please\x20provide\x20the\x20Graph\x20client\x20instance,\x20FileObject\x20interface\x20implementation\x20and\x20OneDriveLargeFileUploadOptions\x20value');const _0x41f8d2=_0x437f37[_0x4ffa1d(0x92)]?_0x437f37['uploadSessionURL']:OneDriveLargeFileUploadTask[_0x4ffa1d(0xa6)](_0x437f37[_0x4ffa1d(0x97)],_0x437f37[_0x4ffa1d(0xa5)]),_0x5b4a57={'fileName':_0x437f37[_0x4ffa1d(0x97)],'fileDescription':_0x437f37[_0x4ffa1d(0xb3)],'conflictBehavior':_0x437f37[_0x4ffa1d(0xa2)]},_0x50a031=yield OneDriveLargeFileUploadTask[_0x4ffa1d(0x96)](_0x2f1939,_0x41f8d2,_0x5b4a57),_0x343020=getValidRangeSize(_0x437f37[_0x4ffa1d(0x9e)]);return new OneDriveLargeFileUploadTask(_0x2f1939,_0x4ac31f,_0x50a031,{'rangeSize':_0x343020,'uploadEventHandlers':_0x437f37['uploadEventHandlers']});});}static['createUploadSession'](_0x2ce6d1,_0x9a3522,_0x58c599){const _0x57bf94=a0_0x4a664b,_0xd06574=Object['create'](null,{'createUploadSession':{'get':()=>super[_0x57bf94(0x96)]}});return __awaiter(this,void 0x0,void 0x0,function*(){const _0x498d1f=_0x57bf94,_0x4e1e16={'item':{'@microsoft.graph.conflictBehavior':(_0x58c599===null||_0x58c599===void 0x0?void 0x0:_0x58c599[_0x498d1f(0xa2)])||'rename','name':_0x58c599===null||_0x58c599===void 0x0?void 0x0:_0x58c599[_0x498d1f(0x97)],'description':_0x58c599===null||_0x58c599===void 0x0?void 0x0:_0x58c599[_0x498d1f(0xb3)]}};return _0xd06574['createUploadSession'][_0x498d1f(0xaf)](this,_0x2ce6d1,_0x9a3522,_0x4e1e16);});}constructor(_0x1f7286,_0x1c12ac,_0x1d5554,_0x107f92){super(_0x1f7286,_0x1c12ac,_0x1d5554,_0x107f92);}[a0_0x4a664b(0x99)](_0x4a8ff3,_0x448196='rename'){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x257cca=a0_0x4ba3,_0x4ed2f7={'name':this[_0x257cca(0x93)][_0x257cca(0xa4)],'@microsoft.graph.conflictBehavior':_0x448196,'@microsoft.graph.sourceUrl':this['uploadSession']['url']};return yield this[_0x257cca(0xad)][_0x257cca(0xab)](_0x4a8ff3)[_0x257cca(0x9c)](_0x4ed2f7);});}}function a0_0x4ba3(_0x554985,_0x79720e){const _0x1b324d=a0_0x1b32();return a0_0x4ba3=function(_0x4ba3a9,_0x4dfaf1){_0x4ba3a9=_0x4ba3a9-0x8b;let _0x2f3533=_0x1b324d[_0x4ba3a9];return _0x2f3533;},a0_0x4ba3(_0x554985,_0x79720e);}OneDriveLargeFileUploadTask['DEFAULT_UPLOAD_PATH']='/';