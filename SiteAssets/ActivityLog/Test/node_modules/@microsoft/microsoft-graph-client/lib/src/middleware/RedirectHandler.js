'use strict';var a0_0x315bc8=a0_0x45e5;function a0_0x4f63(){var _0x5f1e3b=['getLocationHeader','./options/TelemetryHandlerOptions','./options/RedirectHandlerOptions','6RSZJoi','__awaiter','exec','./MiddlewareUtil','RedirectHandler','4853565mPbXJo','TelemetryHandlerOptions','status','MANUAL_REDIRECT','349170ingnzJ','options','prototype','REDIRECT_STATUS_CODES','LOCATION_HEADER','maxRedirects','executeWithRedirect','5072830KrfxbN','__generator','__esModule','AUTHORIZATION_HEADER','redirect','STATUS_CODE_SEE_OTHER','1674568EfNyLM','response','21882820pxNAAJ','label','2225996CBIjmb','headers','MiddlewareControl','getMiddlewareOptions','3PGvtjA','18707ysYZsh','defineProperty','setNext','middlewareControl','get','shouldDropAuthorizationHeader','request','assign','method','tslib','isRedirect','url','Authorization','execute','undefined','RedirectHandlerOptions','has','getOptions','updateRequestUrl','string','../RequestMethod','GET','hasLocationHeader','./MiddlewareControl','nextMiddleware','cloneRequestWithNewUrl','sent','RequestMethod','indexOf','updateFeatureUsageFlag','REDIRECT_HANDLER_ENABLED','21NkwkxX','isRelativeURL','manual'];a0_0x4f63=function(){return _0x5f1e3b;};return a0_0x4f63();}(function(_0x2b9daa,_0x2a7218){var _0x48e58e=a0_0x45e5,_0x25fad3=_0x2b9daa();while(!![]){try{var _0x3d7674=parseInt(_0x48e58e(0x14d))/0x1*(-parseInt(_0x48e58e(0x12e))/0x2)+parseInt(_0x48e58e(0x14c))/0x3*(-parseInt(_0x48e58e(0x148))/0x4)+-parseInt(_0x48e58e(0x13e))/0x5+parseInt(_0x48e58e(0x137))/0x6+-parseInt(_0x48e58e(0x128))/0x7*(parseInt(_0x48e58e(0x144))/0x8)+parseInt(_0x48e58e(0x133))/0x9+parseInt(_0x48e58e(0x146))/0xa;if(_0x3d7674===_0x2a7218)break;else _0x25fad3['push'](_0x25fad3['shift']());}catch(_0x38689c){_0x25fad3['push'](_0x25fad3['shift']());}}}(a0_0x4f63,0x818b5));Object[a0_0x315bc8(0x14e)](exports,a0_0x315bc8(0x140),{'value':!![]}),exports[a0_0x315bc8(0x132)]=void 0x0;function a0_0x45e5(_0x1a0944,_0x2d3679){var _0x4f63af=a0_0x4f63();return a0_0x45e5=function(_0x45e585,_0x50a77d){_0x45e585=_0x45e585-0x122;var _0x41a1f1=_0x4f63af[_0x45e585];return _0x41a1f1;},a0_0x45e5(_0x1a0944,_0x2d3679);}var tslib_1=require(a0_0x315bc8(0x156)),RequestMethod_1=require(a0_0x315bc8(0x161)),MiddlewareControl_1=require(a0_0x315bc8(0x164)),MiddlewareUtil_1=require(a0_0x315bc8(0x131)),RedirectHandlerOptions_1=require(a0_0x315bc8(0x12d)),TelemetryHandlerOptions_1=require(a0_0x315bc8(0x12c)),RedirectHandler=(function(){var _0x598a29=a0_0x315bc8;function _0x32624e(_0x26f48a){var _0x580467=a0_0x45e5;_0x26f48a===void 0x0&&(_0x26f48a=new RedirectHandlerOptions_1[(_0x580467(0x15c))]()),this['options']=_0x26f48a;}return _0x32624e[_0x598a29(0x139)][_0x598a29(0x157)]=function(_0x120c11){var _0x1d8eff=_0x598a29;return _0x32624e[_0x1d8eff(0x13a)][_0x1d8eff(0x125)](_0x120c11[_0x1d8eff(0x135)])!==-0x1;},_0x32624e[_0x598a29(0x139)][_0x598a29(0x163)]=function(_0x109c8e){var _0x8ebd91=_0x598a29;return _0x109c8e['headers'][_0x8ebd91(0x15d)](_0x32624e[_0x8ebd91(0x13b)]);},_0x32624e['prototype'][_0x598a29(0x12b)]=function(_0x3bd34c){var _0x2b0181=_0x598a29;return _0x3bd34c[_0x2b0181(0x149)][_0x2b0181(0x151)](_0x32624e[_0x2b0181(0x13b)]);},_0x32624e[_0x598a29(0x139)][_0x598a29(0x129)]=function(_0x2d00af){var _0x2bf7be=_0x598a29;return _0x2d00af[_0x2bf7be(0x125)]('://')===-0x1;},_0x32624e[_0x598a29(0x139)][_0x598a29(0x152)]=function(_0x25b812,_0x2ed7d0){var _0x3c772e=_0x598a29,_0x48a3fd=/^[A-Za-z].+?:\/\/.+?(?=\/|$)/,_0x3ba60e=_0x48a3fd[_0x3c772e(0x130)](_0x25b812),_0x419f60,_0x399bcd;_0x3ba60e!==null&&(_0x419f60=_0x3ba60e[0x0]);var _0x41568f=_0x48a3fd[_0x3c772e(0x130)](_0x2ed7d0);return _0x41568f!==null&&(_0x399bcd=_0x41568f[0x0]),typeof _0x419f60!==_0x3c772e(0x15b)&&typeof _0x399bcd!==_0x3c772e(0x15b)&&_0x419f60!==_0x399bcd;},_0x32624e[_0x598a29(0x139)][_0x598a29(0x15f)]=function(_0x476596,_0x5a3223){return tslib_1['__awaiter'](this,void 0x0,void 0x0,function(){var _0x2a3638=a0_0x45e5,_0x37e7da,_0x5c6629;return tslib_1[_0x2a3638(0x13f)](this,function(_0xbd71d9){var _0x45d03a=_0x2a3638;switch(_0xbd71d9[_0x45d03a(0x147)]){case 0x0:_0x37e7da=_0x5a3223;if(!(typeof _0x5a3223['request']===_0x45d03a(0x160)))return[0x3,0x1];_0x5c6629=_0x476596;return[0x3,0x3];case 0x1:return[0x4,(0x0,MiddlewareUtil_1[_0x45d03a(0x122)])(_0x476596,_0x5a3223[_0x45d03a(0x153)])];case 0x2:_0x5c6629=_0xbd71d9['sent'](),_0xbd71d9['label']=0x3;case 0x3:_0x37e7da[_0x45d03a(0x153)]=_0x5c6629;return[0x2];}});});},_0x32624e[_0x598a29(0x139)][_0x598a29(0x15e)]=function(_0x91e9d){var _0x219b80=_0x598a29,_0x50df46;return _0x91e9d[_0x219b80(0x150)]instanceof MiddlewareControl_1[_0x219b80(0x14a)]&&(_0x50df46=_0x91e9d['middlewareControl'][_0x219b80(0x14b)](RedirectHandlerOptions_1['RedirectHandlerOptions'])),typeof _0x50df46===_0x219b80(0x15b)&&(_0x50df46=Object[_0x219b80(0x154)](new RedirectHandlerOptions_1[(_0x219b80(0x15c))](),this[_0x219b80(0x138)])),_0x50df46;},_0x32624e[_0x598a29(0x139)][_0x598a29(0x13d)]=function(_0x3fc6cd,_0x36904a,_0x54f944){var _0x54909b=_0x598a29;return tslib_1[_0x54909b(0x12f)](this,void 0x0,void 0x0,function(){var _0x41ec8c=_0x54909b,_0x1e0c7f,_0x332c7d;return tslib_1[_0x41ec8c(0x13f)](this,function(_0x272bb3){var _0x4dfd55=_0x41ec8c;switch(_0x272bb3[_0x4dfd55(0x147)]){case 0x0:return[0x4,this[_0x4dfd55(0x165)][_0x4dfd55(0x15a)](_0x3fc6cd)];case 0x1:_0x272bb3[_0x4dfd55(0x123)](),_0x1e0c7f=_0x3fc6cd[_0x4dfd55(0x145)];if(!(_0x36904a<_0x54f944[_0x4dfd55(0x13c)]&&this[_0x4dfd55(0x157)](_0x1e0c7f)&&this[_0x4dfd55(0x163)](_0x1e0c7f)&&_0x54f944['shouldRedirect'](_0x1e0c7f)))return[0x3,0x6];++_0x36904a;if(!(_0x1e0c7f[_0x4dfd55(0x135)]===_0x32624e[_0x4dfd55(0x143)]))return[0x3,0x2];_0x3fc6cd[_0x4dfd55(0x138)][_0x4dfd55(0x155)]=RequestMethod_1[_0x4dfd55(0x124)][_0x4dfd55(0x162)],delete _0x3fc6cd['options']['body'];return[0x3,0x4];case 0x2:_0x332c7d=this[_0x4dfd55(0x12b)](_0x1e0c7f);!this[_0x4dfd55(0x129)](_0x332c7d)&&this['shouldDropAuthorizationHeader'](_0x1e0c7f[_0x4dfd55(0x158)],_0x332c7d)&&delete _0x3fc6cd[_0x4dfd55(0x138)][_0x4dfd55(0x149)][_0x32624e[_0x4dfd55(0x141)]];return[0x4,this['updateRequestUrl'](_0x332c7d,_0x3fc6cd)];case 0x3:_0x272bb3[_0x4dfd55(0x123)](),_0x272bb3[_0x4dfd55(0x147)]=0x4;case 0x4:return[0x4,this[_0x4dfd55(0x13d)](_0x3fc6cd,_0x36904a,_0x54f944)];case 0x5:_0x272bb3[_0x4dfd55(0x123)]();return[0x3,0x7];case 0x6:return[0x2];case 0x7:return[0x2];}});});},_0x32624e[_0x598a29(0x139)][_0x598a29(0x15a)]=function(_0x3f3a4e){return tslib_1['__awaiter'](this,void 0x0,void 0x0,function(){var _0x1e3c4b,_0x820f0b;return tslib_1['__generator'](this,function(_0x388ac6){var _0x14aa01=a0_0x45e5;switch(_0x388ac6[_0x14aa01(0x147)]){case 0x0:_0x1e3c4b=0x0,_0x820f0b=this['getOptions'](_0x3f3a4e),_0x3f3a4e[_0x14aa01(0x138)][_0x14aa01(0x142)]=_0x32624e[_0x14aa01(0x136)],TelemetryHandlerOptions_1[_0x14aa01(0x134)][_0x14aa01(0x126)](_0x3f3a4e,TelemetryHandlerOptions_1['FeatureUsageFlag'][_0x14aa01(0x127)]);return[0x4,this['executeWithRedirect'](_0x3f3a4e,_0x1e3c4b,_0x820f0b)];case 0x1:return[0x2,_0x388ac6[_0x14aa01(0x123)]()];}});});},_0x32624e['prototype'][_0x598a29(0x14f)]=function(_0x10c45b){var _0x3d4165=_0x598a29;this[_0x3d4165(0x165)]=_0x10c45b;},_0x32624e[_0x598a29(0x13a)]=[0x12d,0x12e,0x12f,0x133,0x134],_0x32624e['STATUS_CODE_SEE_OTHER']=0x12f,_0x32624e['LOCATION_HEADER']='Location',_0x32624e[_0x598a29(0x141)]=_0x598a29(0x159),_0x32624e['MANUAL_REDIRECT']=_0x598a29(0x12a),_0x32624e;}());exports[a0_0x315bc8(0x132)]=RedirectHandler;